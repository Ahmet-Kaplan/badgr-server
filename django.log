(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.008) SHOW FULL TABLES; args=None
(0.002) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `oauth2_provider_accesstoken`.`id`, `oauth2_provider_accesstoken`.`user_id`, `oauth2_provider_accesstoken`.`source_refresh_token_id`, `oauth2_provider_accesstoken`.`token`, `oauth2_provider_accesstoken`.`application_id`, `oauth2_provider_accesstoken`.`expires`, `oauth2_provider_accesstoken`.`scope`, `oauth2_provider_accesstoken`.`created`, `oauth2_provider_accesstoken`.`updated`, `users`.`id`, `users`.`password`, `users`.`last_login`, `users`.`is_superuser`, `users`.`username`, `users`.`first_name`, `users`.`last_name`, `users`.`email`, `users`.`is_staff`, `users`.`is_active`, `users`.`date_joined`, `users`.`entity_version`, `users`.`entity_id`, `users`.`badgrapp_id`, `users`.`marketing_opt_in`, `oauth2_provider_application`.`id`, `oauth2_provider_application`.`client_id`, `oauth2_provider_application`.`user_id`, `oauth2_provider_application`.`redirect_uris`, `oauth2_provider_application`.`client_type`, `oauth2_provider_application`.`authorization_grant_type`, `oauth2_provider_application`.`client_secret`, `oauth2_provider_application`.`name`, `oauth2_provider_application`.`skip_authorization`, `oauth2_provider_application`.`created`, `oauth2_provider_application`.`updated` FROM `oauth2_provider_accesstoken` LEFT OUTER JOIN `users` ON (`oauth2_provider_accesstoken`.`user_id` = `users`.`id`) LEFT OUTER JOIN `oauth2_provider_application` ON (`oauth2_provider_accesstoken`.`application_id` = `oauth2_provider_application`.`id`) WHERE `oauth2_provider_accesstoken`.`token` = 'tntlVle7mUlr8N7WBTwTMntgJwtEeZ'; args=(u'tntlVle7mUlr8N7WBTwTMntgJwtEeZ',)
(0.001) SELECT `users`.`id`, `users`.`password`, `users`.`last_login`, `users`.`is_superuser`, `users`.`username`, `users`.`first_name`, `users`.`last_name`, `users`.`email`, `users`.`is_staff`, `users`.`is_active`, `users`.`date_joined`, `users`.`entity_version`, `users`.`entity_id`, `users`.`badgrapp_id`, `users`.`marketing_opt_in` FROM `users` WHERE `users`.`username` IS NULL; args=()
(0.001) SELECT `oauth2_provider_accesstoken`.`id`, `oauth2_provider_accesstoken`.`user_id`, `oauth2_provider_accesstoken`.`source_refresh_token_id`, `oauth2_provider_accesstoken`.`token`, `oauth2_provider_accesstoken`.`application_id`, `oauth2_provider_accesstoken`.`expires`, `oauth2_provider_accesstoken`.`scope`, `oauth2_provider_accesstoken`.`created`, `oauth2_provider_accesstoken`.`updated`, `users`.`id`, `users`.`password`, `users`.`last_login`, `users`.`is_superuser`, `users`.`username`, `users`.`first_name`, `users`.`last_name`, `users`.`email`, `users`.`is_staff`, `users`.`is_active`, `users`.`date_joined`, `users`.`entity_version`, `users`.`entity_id`, `users`.`badgrapp_id`, `users`.`marketing_opt_in`, `oauth2_provider_application`.`id`, `oauth2_provider_application`.`client_id`, `oauth2_provider_application`.`user_id`, `oauth2_provider_application`.`redirect_uris`, `oauth2_provider_application`.`client_type`, `oauth2_provider_application`.`authorization_grant_type`, `oauth2_provider_application`.`client_secret`, `oauth2_provider_application`.`name`, `oauth2_provider_application`.`skip_authorization`, `oauth2_provider_application`.`created`, `oauth2_provider_application`.`updated` FROM `oauth2_provider_accesstoken` LEFT OUTER JOIN `users` ON (`oauth2_provider_accesstoken`.`user_id` = `users`.`id`) LEFT OUTER JOIN `oauth2_provider_application` ON (`oauth2_provider_accesstoken`.`application_id` = `oauth2_provider_application`.`id`) WHERE `oauth2_provider_accesstoken`.`token` = 'tntlVle7mUlr8N7WBTwTMntgJwtEeZ'; args=(u'tntlVle7mUlr8N7WBTwTMntgJwtEeZ',)
(0.001) SELECT `users`.`id`, `users`.`password`, `users`.`last_login`, `users`.`is_superuser`, `users`.`username`, `users`.`first_name`, `users`.`last_name`, `users`.`email`, `users`.`is_staff`, `users`.`is_active`, `users`.`date_joined`, `users`.`entity_version`, `users`.`entity_id`, `users`.`badgrapp_id`, `users`.`marketing_opt_in` FROM `users` WHERE `users`.`id` = 1; args=(1,)
(0.004) SELECT DISTINCT `issuer_badgeinstance`.`id`, `issuer_badgeinstance`.`entity_version`, `issuer_badgeinstance`.`entity_id`, `issuer_badgeinstance`.`created_at`, `issuer_badgeinstance`.`created_by_id`, `issuer_badgeinstance`.`updated_at`, `issuer_badgeinstance`.`updated_by_id`, `issuer_badgeinstance`.`original_json`, `issuer_badgeinstance`.`source`, `issuer_badgeinstance`.`source_url`, `issuer_badgeinstance`.`issued_on`, `issuer_badgeinstance`.`badgeclass_id`, `issuer_badgeinstance`.`issuer_id`, `issuer_badgeinstance`.`user_id`, `issuer_badgeinstance`.`recipient_identifier`, `issuer_badgeinstance`.`recipient_type`, `issuer_badgeinstance`.`image`, `issuer_badgeinstance`.`slug`, `issuer_badgeinstance`.`revoked`, `issuer_badgeinstance`.`revocation_reason`, `issuer_badgeinstance`.`expires_at`, `issuer_badgeinstance`.`acceptance`, `issuer_badgeinstance`.`hashed`, `issuer_badgeinstance`.`salt`, `issuer_badgeinstance`.`narrative`, `issuer_badgeinstance`.`old_json` FROM `issuer_badgeinstance` LEFT OUTER JOIN `users` ON (`issuer_badgeinstance`.`user_id` = `users`.`id`) LEFT OUTER JOIN `oauth2_provider_accesstoken` ON (`users`.`id` = `oauth2_provider_accesstoken`.`user_id`) LEFT OUTER JOIN `oauth2_provider_application` ON (`oauth2_provider_accesstoken`.`application_id` = `oauth2_provider_application`.`id`) LEFT OUTER JOIN `mainsite_accesstokenscope` ON (`oauth2_provider_accesstoken`.`id` = `mainsite_accesstokenscope`.`token_id`) INNER JOIN `issuer_issuer` ON (`issuer_badgeinstance`.`issuer_id` = `issuer_issuer`.`id`) LEFT OUTER JOIN `issuer_issuerstaff` ON (`issuer_issuer`.`id` = `issuer_issuerstaff`.`issuer_id`) WHERE ((`oauth2_provider_application`.`user_id` = 1 AND `mainsite_accesstokenscope`.`scope` IN ('rw:backpack', 'r:backpack')) OR `issuer_issuerstaff`.`user_id` = 1) ORDER BY `issuer_badgeinstance`.`created_at` DESC LIMIT 101; args=(1, 'rw:backpack', 'r:backpack', 1)
"GET /v2/assertions/changed HTTP/1.1" 200 13901
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.009) SHOW FULL TABLES; args=None
(0.002) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 21:33:27.419775'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 21:33:28.002435'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:37.478379'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:33:38.456962'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:41.553370'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:41.643208'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:41.734781'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:41.834213'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:41.931622'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:42.009829'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:42.083428'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:42.162991'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:33:46.215215'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:33:46.279400'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:33:49.160657'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:33:49.224500'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:33:49.734844'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:33:49.848277'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:50.385532'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:50.526938'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:33:50.661251'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:33:52.143488'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:33:52.213095'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:33:52.270292'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:34:00.503865'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:34:00.798099'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 21:35:22.633593'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 21:35:23.138845'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:33.646746'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:35:34.468553'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:36.768027'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:36.836321'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:36.905434'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:36.979488'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:37.058552'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:37.132487'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:37.204458'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:37.283041'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:35:40.993440'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:35:41.051401'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:35:43.830887'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:35:43.894659'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:35:44.442327'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:35:44.543456'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:45.135628'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:45.294695'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:45.427371'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:35:46.896391'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:35:46.976559'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:35:47.044142'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:35:54.762948'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:35:55.026019'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 21:37:12.334662'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 21:37:12.721064'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:19.716669'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:37:20.217155'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:21.678293'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:21.795093'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:21.853730'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:21.903220'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:21.953410'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:22.001157'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:22.052042'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:22.100069'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:37:24.712234'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:37:24.749593'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:37:26.676668'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:37:26.714894'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:37:27.034324'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:37:27.089862'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:27.394311'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:27.486747'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:27.612948'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:37:28.691968'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:37:28.729543'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:37:28.766763'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:37:34.264036'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:37:34.467421'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 21:38:40.595629'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 21:38:41.072197'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:38:50.475692'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:38:51.319928'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:38:53.338034'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:38:53.406670'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:38:53.474199'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:38:53.562200'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:38:53.634067'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:38:53.700240'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:38:53.765490'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:38:53.836007'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:38:57.497810'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:38:57.558023'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:39:00.299163'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:39:00.361586'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:39:00.907247'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:39:00.987592'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:39:01.503260'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:39:01.637285'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:39:01.766388'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:39:03.142949'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:39:03.211732'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:39:03.269440'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:39:10.903737'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:39:11.122850'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/7CrFobFQR8KGFmcUon3WNg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563485956/728b949ebef5e404c3934e171d97cd37dd6fc3a2?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/Z9zocTEoR8GlFxSTCM3v7g', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/7CrFobFQR8KGFmcUon3WNg?action=download', u'site_url': u'', u'badge_id': u'7CrFobFQR8KGFmcUon3WNg', u'image_url': u'http://localhost:8000/public/assertions/7CrFobFQR8KGFmcUon3WNg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fd5c8030620>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/7CrFobFQR8KGFmcUon3WNg\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563485956/728b949ebef5e404c3934e171d97cd37dd6fc3a2?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Giver\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/Z9zocTEoR8GlFxSTCM3v7g\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/7CrFobFQR8KGFmcUon3WNg?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'7CrFobFQR8KGFmcUon3WNg\', u\'image_url\': u\'http://localhost:8000/public/assertions/7CrFobFQR8KGFmcUon3WNg/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7fd5c8030620>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10b29cb90>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x10b29ced0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10b29c410>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x10b29c6d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10b29c510>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x10b608990>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10b608650>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x10b608d10>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/7CrFobFQR8KGFmcUon3WNg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563485956/728b949ebef5e404c3934e171d97cd37dd6fc3a2?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/Z9zocTEoR8GlFxSTCM3v7g', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/7CrFobFQR8KGFmcUon3WNg?action=download', u'site_url': u'', u'badge_id': u'7CrFobFQR8KGFmcUon3WNg', u'image_url': u'http://localhost:8000/public/assertions/7CrFobFQR8KGFmcUon3WNg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fd5c8030620>', u'issuer_image_url': None}]"
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 21:40:46.680870'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 21:40:47.044633'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:40:54.265944'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:40:54.821666'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:40:56.221604'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:40:56.343789'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:40:56.421453'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:40:56.487412'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:40:56.564289'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:40:56.618468'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:40:56.673196'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:40:56.722582'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:40:59.635095'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:40:59.676855'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:01.885014'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:01.926611'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:41:02.291225'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:41:02.355937'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:02.703045'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:02.792021'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:02.888934'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:03.925402'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:03.964342'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:03.999090'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:09.054075'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:09.198731'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/D_Bi7Y31RxaGLHdOIvw5-A', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486072/cb8b4f2d91bc0cf161c04b839a6dfa321b674ea8?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/9d9VysyRSmCXE8GMGRPInQ', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/D_Bi7Y31RxaGLHdOIvw5-A?action=download', u'site_url': u'', u'badge_id': u'D_Bi7Y31RxaGLHdOIvw5-A', u'image_url': u'http://localhost:8000/public/assertions/D_Bi7Y31RxaGLHdOIvw5-A/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f930d84cc20>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/D_Bi7Y31RxaGLHdOIvw5-A\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486072/cb8b4f2d91bc0cf161c04b839a6dfa321b674ea8?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Giver\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/9d9VysyRSmCXE8GMGRPInQ\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/D_Bi7Y31RxaGLHdOIvw5-A?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'D_Bi7Y31RxaGLHdOIvw5-A\', u\'image_url\': u\'http://localhost:8000/public/assertions/D_Bi7Y31RxaGLHdOIvw5-A/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f930d84cc20>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10eb9e410>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x10eb9efd0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10eb9ed50>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x10eb9eb10>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10eb9ea10>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x10eb9e550>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10eb9e750>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x10eb9e190>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/D_Bi7Y31RxaGLHdOIvw5-A', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486072/cb8b4f2d91bc0cf161c04b839a6dfa321b674ea8?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/9d9VysyRSmCXE8GMGRPInQ', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/D_Bi7Y31RxaGLHdOIvw5-A?action=download', u'site_url': u'', u'badge_id': u'D_Bi7Y31RxaGLHdOIvw5-A', u'image_url': u'http://localhost:8000/public/assertions/D_Bi7Y31RxaGLHdOIvw5-A/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f930d84cc20>', u'issuer_image_url': None}]"
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 21:41:38.363981'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 21:41:38.691660'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:45.461212'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:45.994922'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:47.452160'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:47.571728'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:47.620569'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:47.670367'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:47.725709'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:47.779301'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:47.841344'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:47.898718'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:50.405660'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:50.450466'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:52.424157'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:52.462320'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:41:52.813429'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:41:52.863456'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:53.157255'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:53.267226'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:53.387775'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:54.460931'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:54.499424'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:54.535372'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:41:59.560707'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:41:59.720878'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/uIsDmvVTRMOXMr5zHL-H4g', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486123/bf6e62cdbb1a4ce066e0a443f03a08e860e6295f?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/ZHe0pDj6QfyRAZ1pSZCjcg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/uIsDmvVTRMOXMr5zHL-H4g?action=download', u'site_url': u'', u'badge_id': u'uIsDmvVTRMOXMr5zHL-H4g', u'image_url': u'http://localhost:8000/public/assertions/uIsDmvVTRMOXMr5zHL-H4g/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fd1fe85b420>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/uIsDmvVTRMOXMr5zHL-H4g\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486123/bf6e62cdbb1a4ce066e0a443f03a08e860e6295f?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Giver\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/ZHe0pDj6QfyRAZ1pSZCjcg\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/uIsDmvVTRMOXMr5zHL-H4g?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'uIsDmvVTRMOXMr5zHL-H4g\', u\'image_url\': u\'http://localhost:8000/public/assertions/uIsDmvVTRMOXMr5zHL-H4g/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7fd1fe85b420>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x113c37d10>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x113c37ed0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x115be6110>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x115be62d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x115be64d0>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x115be6690>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x115be6890>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x115be6a50>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/uIsDmvVTRMOXMr5zHL-H4g', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486123/bf6e62cdbb1a4ce066e0a443f03a08e860e6295f?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/ZHe0pDj6QfyRAZ1pSZCjcg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/uIsDmvVTRMOXMr5zHL-H4g?action=download', u'site_url': u'', u'badge_id': u'uIsDmvVTRMOXMr5zHL-H4g', u'image_url': u'http://localhost:8000/public/assertions/uIsDmvVTRMOXMr5zHL-H4g/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fd1fe85b420>', u'issuer_image_url': None}]"
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 21:42:18.483901'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 21:42:18.920798'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:28.558064'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:42:29.317489'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:31.738089'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:31.803499'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:31.876356'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:31.946329'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:32.017762'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:32.089322'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:32.154430'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:32.224217'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:42:36.041078'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:42:36.097492'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:42:38.678359'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:42:38.734490'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:42:39.227082'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:42:39.304982'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:39.830056'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:39.972812'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:40.106662'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:42:41.366187'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:42:41.431287'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:42:41.486487'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:42:48.804890'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:42:49.022748'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/DDm0HXfASC2zTwrOvAEZ0A', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486174/a6a51d973008059cdcebcbcafc7076c17c20a2fc?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/01Bp7tnWRNmlB_piQEUoxA', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/DDm0HXfASC2zTwrOvAEZ0A?action=download', u'site_url': u'', u'badge_id': u'DDm0HXfASC2zTwrOvAEZ0A', u'image_url': u'http://localhost:8000/public/assertions/DDm0HXfASC2zTwrOvAEZ0A/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fa9d4006020>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/DDm0HXfASC2zTwrOvAEZ0A\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486174/a6a51d973008059cdcebcbcafc7076c17c20a2fc?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Giver\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/01Bp7tnWRNmlB_piQEUoxA\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/DDm0HXfASC2zTwrOvAEZ0A?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'DDm0HXfASC2zTwrOvAEZ0A\', u\'image_url\': u\'http://localhost:8000/public/assertions/DDm0HXfASC2zTwrOvAEZ0A/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7fa9d4006020>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111459350>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x111459c10>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111dbea90>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x111dbe910>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111dbe550>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x111dbedd0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111248e50>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x111248350>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/DDm0HXfASC2zTwrOvAEZ0A', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486174/a6a51d973008059cdcebcbcafc7076c17c20a2fc?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/01Bp7tnWRNmlB_piQEUoxA', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/DDm0HXfASC2zTwrOvAEZ0A?action=download', u'site_url': u'', u'badge_id': u'DDm0HXfASC2zTwrOvAEZ0A', u'image_url': u'http://localhost:8000/public/assertions/DDm0HXfASC2zTwrOvAEZ0A/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fa9d4006020>', u'issuer_image_url': None}]"
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 21:44:09.536113'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 21:44:09.979185'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:19.352159'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:44:20.120257'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:22.292990'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:22.355182'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:22.425840'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:22.497160'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:22.568040'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:22.638391'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:22.707622'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:22.775648'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:44:26.331363'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:44:26.391103'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:44:29.098287'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:44:29.172380'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:44:29.685319'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:44:29.762833'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:30.242695'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:30.460413'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:30.629062'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:44:31.977109'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:44:32.054567'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:44:32.126360'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:44:39.839609'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:44:40.064627'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/f32llahrQW6QIiTpdOK8Vw', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486285/994f01032bbfe91a7b1081f1c7836189fe482039?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/TQ4kivSHR3CSGl5amc8fLA', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/f32llahrQW6QIiTpdOK8Vw?action=download', u'site_url': u'', u'badge_id': u'f32llahrQW6QIiTpdOK8Vw', u'image_url': u'http://localhost:8000/public/assertions/f32llahrQW6QIiTpdOK8Vw/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7febbd069c20>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/f32llahrQW6QIiTpdOK8Vw\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486285/994f01032bbfe91a7b1081f1c7836189fe482039?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Giver\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/TQ4kivSHR3CSGl5amc8fLA\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/f32llahrQW6QIiTpdOK8Vw?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'f32llahrQW6QIiTpdOK8Vw\', u\'image_url\': u\'http://localhost:8000/public/assertions/f32llahrQW6QIiTpdOK8Vw/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7febbd069c20>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10f157210>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x10f1573d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10f157550>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x10f157d10>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10f1576d0>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x10f157ed0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10f157950>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x10f1577d0>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/f32llahrQW6QIiTpdOK8Vw', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486285/994f01032bbfe91a7b1081f1c7836189fe482039?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/TQ4kivSHR3CSGl5amc8fLA', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/f32llahrQW6QIiTpdOK8Vw?action=download', u'site_url': u'', u'badge_id': u'f32llahrQW6QIiTpdOK8Vw', u'image_url': u'http://localhost:8000/public/assertions/f32llahrQW6QIiTpdOK8Vw/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7febbd069c20>', u'issuer_image_url': None}]"
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 21:45:13.852004'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 21:45:14.294864'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:23.265093'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:45:24.026303'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:26.176106'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:26.265775'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:26.343110'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:26.422872'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:26.495180'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:26.562103'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:26.632446'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:26.702789'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:45:30.436376'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:45:30.523048'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:45:33.316001'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:45:33.379042'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:45:33.892827'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:45:33.988891'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:34.537358'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:34.686198'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:34.812890'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:45:36.121113'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:45:36.183848'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:45:36.242406'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:45:43.839268'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:45:44.097519'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/wpprZ_6QR5e8COVQ8XIC7g', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486349/5b26f45262a51746b33b9b07ef682bdbb59bc696?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/PcQdciSGTg6m4hr7NGdvSA', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/wpprZ_6QR5e8COVQ8XIC7g?action=download', u'site_url': u'', u'badge_id': u'wpprZ_6QR5e8COVQ8XIC7g', u'image_url': u'http://localhost:8000/public/assertions/wpprZ_6QR5e8COVQ8XIC7g/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f904d07aa20>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/wpprZ_6QR5e8COVQ8XIC7g\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486349/5b26f45262a51746b33b9b07ef682bdbb59bc696?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Giver\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/PcQdciSGTg6m4hr7NGdvSA\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/wpprZ_6QR5e8COVQ8XIC7g?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'wpprZ_6QR5e8COVQ8XIC7g\', u\'image_url\': u\'http://localhost:8000/public/assertions/wpprZ_6QR5e8COVQ8XIC7g/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f904d07aa20>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10ae70690>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x10ae706d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10acc96d0>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x10acc9610>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10acc9710>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x10acc9990>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10acc9e90>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x10acc9d50>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/wpprZ_6QR5e8COVQ8XIC7g', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486349/5b26f45262a51746b33b9b07ef682bdbb59bc696?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/PcQdciSGTg6m4hr7NGdvSA', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/wpprZ_6QR5e8COVQ8XIC7g?action=download', u'site_url': u'', u'badge_id': u'wpprZ_6QR5e8COVQ8XIC7g', u'image_url': u'http://localhost:8000/public/assertions/wpprZ_6QR5e8COVQ8XIC7g/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f904d07aa20>', u'issuer_image_url': None}]"
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 21:47:58.886023'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 21:47:59.336755'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:09.155960'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:48:09.934826'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:12.101632'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:12.184030'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:12.262132'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:12.351620'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:12.422743'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:12.493959'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:12.563609'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:12.635521'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:48:16.320446'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:48:16.381671'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:48:19.249113'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:48:19.312433'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:48:19.815645'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:48:19.911142'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:20.383322'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:20.631921'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:20.786966'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:48:22.093831'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:48:22.154747'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:48:22.209550'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:48:29.927901'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:48:30.149899'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/3uESzF3BQkaARLhzkJRH8Q', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486515/beaad6f399b9a4ccd8a9ea576d62ccd591184124?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/xcG_PFQKSDm6ezfTW0UfDg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/3uESzF3BQkaARLhzkJRH8Q?action=download', u'site_url': u'', u'badge_id': u'3uESzF3BQkaARLhzkJRH8Q', u'image_url': u'http://localhost:8000/public/assertions/3uESzF3BQkaARLhzkJRH8Q/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f7fdb011820>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/3uESzF3BQkaARLhzkJRH8Q\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486515/beaad6f399b9a4ccd8a9ea576d62ccd591184124?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Giver\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/xcG_PFQKSDm6ezfTW0UfDg\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/3uESzF3BQkaARLhzkJRH8Q?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'3uESzF3BQkaARLhzkJRH8Q\', u\'image_url\': u\'http://localhost:8000/public/assertions/3uESzF3BQkaARLhzkJRH8Q/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f7fdb011820>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10632ffd0>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x109e0d1d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x109e0d3d0>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x109e0d590>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x109e0d790>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x109e0d950>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x109e0db50>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x109e0dd10>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/3uESzF3BQkaARLhzkJRH8Q', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563486515/beaad6f399b9a4ccd8a9ea576d62ccd591184124?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/xcG_PFQKSDm6ezfTW0UfDg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/3uESzF3BQkaARLhzkJRH8Q?action=download', u'site_url': u'', u'badge_id': u'3uESzF3BQkaARLhzkJRH8Q', u'image_url': u'http://localhost:8000/public/assertions/3uESzF3BQkaARLhzkJRH8Q/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f7fdb011820>', u'issuer_image_url': None}]"
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 21:57:24.408759'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 21:57:24.775215'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:31.896254'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:57:32.677455'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:34.628943'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:34.773388'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:34.838256'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:34.898381'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:34.956738'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:35.008249'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:35.064105'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:35.114189'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:57:37.760987'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:57:37.799351'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:57:39.796894'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:57:39.834457'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:57:40.164783'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 21:57:40.219011'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:40.520190'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:40.605653'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:40.713576'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:57:41.735291'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:57:41.773751'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:57:41.809632'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 21:57:46.790366'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 21:57:46.936317'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/pydOi23PSvWzxVJrBJMG7A', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563487071/dacf694238ab9d570fa40c9c4299e0fe47a9d3c9?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/XW9PZNBMRe61n_-5YQlfUg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/pydOi23PSvWzxVJrBJMG7A?action=download', u'site_url': u'', u'badge_id': u'pydOi23PSvWzxVJrBJMG7A', u'image_url': u'http://localhost:8000/public/assertions/pydOi23PSvWzxVJrBJMG7A/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fbd7102a020>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/pydOi23PSvWzxVJrBJMG7A\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563487071/dacf694238ab9d570fa40c9c4299e0fe47a9d3c9?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Giver\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/XW9PZNBMRe61n_-5YQlfUg\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/pydOi23PSvWzxVJrBJMG7A?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'pydOi23PSvWzxVJrBJMG7A\', u\'image_url\': u\'http://localhost:8000/public/assertions/pydOi23PSvWzxVJrBJMG7A/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7fbd7102a020>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x112781a10>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x112781bd0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x112781750>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x1126063d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1126a3a10>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x11258e3d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x11275a250>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x11275acd0>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/pydOi23PSvWzxVJrBJMG7A', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563487071/dacf694238ab9d570fa40c9c4299e0fe47a9d3c9?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/XW9PZNBMRe61n_-5YQlfUg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/pydOi23PSvWzxVJrBJMG7A?action=download', u'site_url': u'', u'badge_id': u'pydOi23PSvWzxVJrBJMG7A', u'image_url': u'http://localhost:8000/public/assertions/pydOi23PSvWzxVJrBJMG7A/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fbd7102a020>', u'issuer_image_url': None}]"
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 22:15:36.001628'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 22:15:36.353504'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:43.946199'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 22:15:44.524547'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:46.084541'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:46.207400'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:46.262080'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:46.310295'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:46.362374'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:46.414862'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:46.465018'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:46.512774'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 22:15:49.322802'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 22:15:49.369628'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 22:15:51.420103'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 22:15:51.467329'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 22:15:51.808950'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 22:15:51.865189'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:52.215947'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:52.308904'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:52.399120'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 22:15:53.498694'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 22:15:53.539684'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 22:15:53.575363'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 22:15:58.842538'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 22:15:58.994917'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/6UVgjxF2TE-SLDomHdXldg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563488163/0187626ca117c90dd77e6dd8ec09b07a14c61299?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/JfmnQowFSOagXt0VR2P38Q', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/6UVgjxF2TE-SLDomHdXldg?action=download', u'site_url': u'', u'badge_id': u'6UVgjxF2TE-SLDomHdXldg', u'image_url': u'http://localhost:8000/public/assertions/6UVgjxF2TE-SLDomHdXldg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f82fe024e20>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/6UVgjxF2TE-SLDomHdXldg\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563488163/0187626ca117c90dd77e6dd8ec09b07a14c61299?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Giver\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/JfmnQowFSOagXt0VR2P38Q\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/6UVgjxF2TE-SLDomHdXldg?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'6UVgjxF2TE-SLDomHdXldg\', u\'image_url\': u\'http://localhost:8000/public/assertions/6UVgjxF2TE-SLDomHdXldg/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f82fe024e20>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111d71c90>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x111d71c10>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111d71790>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x111d717d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111d71250>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x111d71410>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111d71190>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x110ff2790>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/6UVgjxF2TE-SLDomHdXldg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563488163/0187626ca117c90dd77e6dd8ec09b07a14c61299?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/JfmnQowFSOagXt0VR2P38Q', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/6UVgjxF2TE-SLDomHdXldg?action=download', u'site_url': u'', u'badge_id': u'6UVgjxF2TE-SLDomHdXldg', u'image_url': u'http://localhost:8000/public/assertions/6UVgjxF2TE-SLDomHdXldg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f82fe024e20>', u'issuer_image_url': None}]"
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.009) SHOW FULL TABLES; args=None
(0.003) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.006) SHOW FULL TABLES; args=None
(0.002) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.007) SHOW FULL TABLES; args=None
(0.003) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.008) SHOW FULL TABLES; args=None
(0.002) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.007) SHOW FULL TABLES; args=None
(0.001) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.006) SHOW FULL TABLES; args=None
(0.001) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.006) SHOW FULL TABLES; args=None
(0.002) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.006) SHOW FULL TABLES; args=None
(0.002) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.009) SHOW FULL TABLES; args=None
(0.009) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.006) SHOW FULL TABLES; args=None
(0.001) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 23:18:38.089042'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 23:18:38.421214'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:44.795198'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:18:45.304535'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:46.939593'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:47.058950'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:47.113251'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:47.162622'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:47.209059'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:47.255271'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:47.304338'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:47.348900'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:18:49.810812'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:18:49.848144'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:18:51.682722'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:18:51.728106'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 23:18:52.104569'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 23:18:52.187509'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:52.493445'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:52.577512'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:52.662320'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:18:53.715232'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:18:53.750683'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:18:53.787095'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:18:58.750496'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:18:58.896864'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/3pdhc8gAQ1qk8UafQX3Lfw', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491942/07c9ab48a36994e857f3d08206234fd77ea8cc2f?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/c2UGwELgQFuT9WtUdU_nvg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/3pdhc8gAQ1qk8UafQX3Lfw?action=download', u'site_url': u'', u'badge_id': u'3pdhc8gAQ1qk8UafQX3Lfw', u'image_url': u'http://localhost:8000/public/assertions/3pdhc8gAQ1qk8UafQX3Lfw/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/3pdhc8gAQ1qk8UafQX3Lfw\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491942/07c9ab48a36994e857f3d08206234fd77ea8cc2f?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/c2UGwELgQFuT9WtUdU_nvg\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/3pdhc8gAQ1qk8UafQX3Lfw?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'3pdhc8gAQ1qk8UafQX3Lfw\', u\'image_url\': u\'http://localhost:8000/public/assertions/3pdhc8gAQ1qk8UafQX3Lfw/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105766910>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x1057668d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105766d90>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x105766e50>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105766510>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x105766c90>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105766e90>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x10587fbd0>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/3pdhc8gAQ1qk8UafQX3Lfw', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491942/07c9ab48a36994e857f3d08206234fd77ea8cc2f?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/c2UGwELgQFuT9WtUdU_nvg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/3pdhc8gAQ1qk8UafQX3Lfw?action=download', u'site_url': u'', u'badge_id': u'3pdhc8gAQ1qk8UafQX3Lfw', u'image_url': u'http://localhost:8000/public/assertions/3pdhc8gAQ1qk8UafQX3Lfw/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/nyiEct4SQS6g-SEes_5t6Q', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491950/609123c5f8ffd4215e15e949907463ab8ece3e71?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/AVovHN6SRimYZn_9rgjgMw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/nyiEct4SQS6g-SEes_5t6Q?action=download', u'site_url': u'', u'badge_id': u'nyiEct4SQS6g-SEes_5t6Q', u'image_url': u'http://localhost:8000/public/assertions/nyiEct4SQS6g-SEes_5t6Q/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/nyiEct4SQS6g-SEes_5t6Q\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491950/609123c5f8ffd4215e15e949907463ab8ece3e71?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/AVovHN6SRimYZn_9rgjgMw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/nyiEct4SQS6g-SEes_5t6Q?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'nyiEct4SQS6g-SEes_5t6Q\', u\'image_url\': u\'http://localhost:8000/public/assertions/nyiEct4SQS6g-SEes_5t6Q/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105808110>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x105784650>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105766250>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x1057de4d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1057de050>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x1057def90>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1057de350>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x1057de290>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/nyiEct4SQS6g-SEes_5t6Q', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491950/609123c5f8ffd4215e15e949907463ab8ece3e71?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/AVovHN6SRimYZn_9rgjgMw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/nyiEct4SQS6g-SEes_5t6Q?action=download', u'site_url': u'', u'badge_id': u'nyiEct4SQS6g-SEes_5t6Q', u'image_url': u'http://localhost:8000/public/assertions/nyiEct4SQS6g-SEes_5t6Q/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/RjJxHz1bRm2pbU84-zZVEQ', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491953/f8587802eec7444134150cb82fd954763eb7c4f4?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/VH4SRSe5RQuLpvNGtY5heQ', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/RjJxHz1bRm2pbU84-zZVEQ?action=download', u'site_url': u'', u'badge_id': u'RjJxHz1bRm2pbU84-zZVEQ', u'image_url': u'http://localhost:8000/public/assertions/RjJxHz1bRm2pbU84-zZVEQ/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/RjJxHz1bRm2pbU84-zZVEQ\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491953/f8587802eec7444134150cb82fd954763eb7c4f4?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/VH4SRSe5RQuLpvNGtY5heQ\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/RjJxHz1bRm2pbU84-zZVEQ?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'RjJxHz1bRm2pbU84-zZVEQ\', u\'image_url\': u\'http://localhost:8000/public/assertions/RjJxHz1bRm2pbU84-zZVEQ/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105808e50>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x105808d90>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105808bd0>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x1058088d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1057660d0>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x105752850>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1057522d0>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x1057c3f90>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/RjJxHz1bRm2pbU84-zZVEQ', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491953/f8587802eec7444134150cb82fd954763eb7c4f4?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/VH4SRSe5RQuLpvNGtY5heQ', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/RjJxHz1bRm2pbU84-zZVEQ?action=download', u'site_url': u'', u'badge_id': u'RjJxHz1bRm2pbU84-zZVEQ', u'image_url': u'http://localhost:8000/public/assertions/RjJxHz1bRm2pbU84-zZVEQ/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/ny2JqcdpSwylH7d6f3OL0w', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50MmV4YW1wbGUuY29t/1563491953/a40c2b4f7e8e951a85aee5fb5d5e7be75ee086d1?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/VH4SRSe5RQuLpvNGtY5heQ', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/ny2JqcdpSwylH7d6f3OL0w?action=download', u'site_url': u'', u'badge_id': u'ny2JqcdpSwylH7d6f3OL0w', u'image_url': u'http://localhost:8000/public/assertions/ny2JqcdpSwylH7d6f3OL0w/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/ny2JqcdpSwylH7d6f3OL0w\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50MmV4YW1wbGUuY29t/1563491953/a40c2b4f7e8e951a85aee5fb5d5e7be75ee086d1?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/VH4SRSe5RQuLpvNGtY5heQ\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/ny2JqcdpSwylH7d6f3OL0w?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'ny2JqcdpSwylH7d6f3OL0w\', u\'image_url\': u\'http://localhost:8000/public/assertions/ny2JqcdpSwylH7d6f3OL0w/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1057844d0>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x1057841d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105808510>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x105808fd0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105808550>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x105766150>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105766c90>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x10581f710>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/ny2JqcdpSwylH7d6f3OL0w', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50MmV4YW1wbGUuY29t/1563491953/a40c2b4f7e8e951a85aee5fb5d5e7be75ee086d1?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/VH4SRSe5RQuLpvNGtY5heQ', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/ny2JqcdpSwylH7d6f3OL0w?action=download', u'site_url': u'', u'badge_id': u'ny2JqcdpSwylH7d6f3OL0w', u'image_url': u'http://localhost:8000/public/assertions/ny2JqcdpSwylH7d6f3OL0w/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/uY8UGHorSJydeSCnWPyjdQ', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/aWRvbm90ZXhpc3R5ZXRAZXhhbXBsZS5jb20=/1563491956/ab5ff1e87eca9fd04ce98a325127c0f34995f23b?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/p7bUUyzsTkioaO7TctDKGw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/uY8UGHorSJydeSCnWPyjdQ?action=download', u'site_url': u'', u'badge_id': u'uY8UGHorSJydeSCnWPyjdQ', u'image_url': u'http://localhost:8000/public/assertions/uY8UGHorSJydeSCnWPyjdQ/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/uY8UGHorSJydeSCnWPyjdQ\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/aWRvbm90ZXhpc3R5ZXRAZXhhbXBsZS5jb20=/1563491956/ab5ff1e87eca9fd04ce98a325127c0f34995f23b?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/p7bUUyzsTkioaO7TctDKGw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/uY8UGHorSJydeSCnWPyjdQ?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'uY8UGHorSJydeSCnWPyjdQ\', u\'image_url\': u\'http://localhost:8000/public/assertions/uY8UGHorSJydeSCnWPyjdQ/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105752990>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x105752c10>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105752d90>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x106b7eb10>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105732a10>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x10587f690>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105808a50>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x105808110>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/uY8UGHorSJydeSCnWPyjdQ', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/aWRvbm90ZXhpc3R5ZXRAZXhhbXBsZS5jb20=/1563491956/ab5ff1e87eca9fd04ce98a325127c0f34995f23b?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/p7bUUyzsTkioaO7TctDKGw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/uY8UGHorSJydeSCnWPyjdQ?action=download', u'site_url': u'', u'badge_id': u'uY8UGHorSJydeSCnWPyjdQ', u'image_url': u'http://localhost:8000/public/assertions/uY8UGHorSJydeSCnWPyjdQ/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/BzKK5BV-TwKjQMgjfb1DkQ', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491959/312b49444bd51a3090c3e3d4d469e99a68ce5550?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/g3sPYvSUTlacAZ-82hKWVQ', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/BzKK5BV-TwKjQMgjfb1DkQ?action=download', u'site_url': u'', u'badge_id': u'BzKK5BV-TwKjQMgjfb1DkQ', u'image_url': u'http://localhost:8000/public/assertions/BzKK5BV-TwKjQMgjfb1DkQ/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/BzKK5BV-TwKjQMgjfb1DkQ\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491959/312b49444bd51a3090c3e3d4d469e99a68ce5550?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/g3sPYvSUTlacAZ-82hKWVQ\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/BzKK5BV-TwKjQMgjfb1DkQ?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'BzKK5BV-TwKjQMgjfb1DkQ\', u\'image_url\': u\'http://localhost:8000/public/assertions/BzKK5BV-TwKjQMgjfb1DkQ/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1057522d0>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x10587f690>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1057c3c10>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x1057c3690>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1057c36d0>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x1057c3ed0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1057c3710>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x106b7edd0>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/BzKK5BV-TwKjQMgjfb1DkQ', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491959/312b49444bd51a3090c3e3d4d469e99a68ce5550?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/g3sPYvSUTlacAZ-82hKWVQ', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/BzKK5BV-TwKjQMgjfb1DkQ?action=download', u'site_url': u'', u'badge_id': u'BzKK5BV-TwKjQMgjfb1DkQ', u'image_url': u'http://localhost:8000/public/assertions/BzKK5BV-TwKjQMgjfb1DkQ/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/kHM0wsFXTKKrIKAiT4hA3w', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491962/30503dd65f194789c63b2745d604d59c0af859b0?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/o66De51HSAWAS__W6moKXw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/kHM0wsFXTKKrIKAiT4hA3w?action=download', u'site_url': u'', u'badge_id': u'kHM0wsFXTKKrIKAiT4hA3w', u'image_url': u'http://localhost:8000/public/assertions/kHM0wsFXTKKrIKAiT4hA3w/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/kHM0wsFXTKKrIKAiT4hA3w\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491962/30503dd65f194789c63b2745d604d59c0af859b0?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/o66De51HSAWAS__W6moKXw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/kHM0wsFXTKKrIKAiT4hA3w?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'kHM0wsFXTKKrIKAiT4hA3w\', u\'image_url\': u\'http://localhost:8000/public/assertions/kHM0wsFXTKKrIKAiT4hA3w/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x106166e50>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x10581ff90>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x10581f9d0>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x10581f3d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105784750>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x105784310>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x105752fd0>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x1057526d0>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_earner_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/kHM0wsFXTKKrIKAiT4hA3w', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563491962/30503dd65f194789c63b2745d604d59c0af859b0?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/o66De51HSAWAS__W6moKXw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/kHM0wsFXTKKrIKAiT4hA3w?action=download', u'site_url': u'', u'badge_id': u'kHM0wsFXTKKrIKAiT4hA3w', u'image_url': u'http://localhost:8000/public/assertions/kHM0wsFXTKKrIKAiT4hA3w/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f8f44027420>', u'issuer_image_url': None}]"
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.006) SHOW FULL TABLES; args=None
(0.001) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.007) SHOW FULL TABLES; args=None
(0.002) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.006) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd' AND `django_session`.`expire_date` > '2019-07-11 23:36:01.613167'); args=('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd', u'2019-07-11 23:36:01.613167')
"GET / HTTP/1.1" 302 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd' AND `django_session`.`expire_date` > '2019-07-11 23:36:01.689013'); args=('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd', u'2019-07-11 23:36:01.689013')
"GET /docs HTTP/1.1" 301 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd' AND `django_session`.`expire_date` > '2019-07-11 23:36:01.705288'); args=('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd', u'2019-07-11 23:36:01.705288')
"GET /docs/v2/ HTTP/1.1" 200 4142
"GET /robots.txt?1562888161763 HTTP/1.1" 301 0
"GET /robots.txt?1562888161764 HTTP/1.1" 301 0
"GET /static/robots.txt HTTP/1.1" 304 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd' AND `django_session`.`expire_date` > '2019-07-11 23:36:01.801172'); args=('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd', u'2019-07-11 23:36:01.801172')
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd' AND `django_session`.`expire_date` > '2019-07-11 23:36:01.792338'); args=('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd', u'2019-07-11 23:36:01.792338')
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd' AND `django_session`.`expire_date` > '2019-07-11 23:36:01.796790'); args=('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd', u'2019-07-11 23:36:01.796790')
"GET /static/swagger-ui/swagger-ui.css HTTP/1.1" 200 33339
"GET /static/swagger-ui/swagger-ui-standalone-preset.js HTTP/1.1" 200 261140
"GET /static/swagger-ui/swagger-ui-bundle.js HTTP/1.1" 200 1622064
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd' AND `django_session`.`expire_date` > '2019-07-11 23:36:02.170077'); args=('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd', u'2019-07-11 23:36:02.170077')
"GET /static/swagger-ui/api_spec_v2.json HTTP/1.1" 200 73813
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd' AND `django_session`.`expire_date` > '2019-07-11 23:36:02.571804'); args=('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd', u'2019-07-11 23:36:02.571804')
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'oauth2_provider.urls' from '/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/oauth2_provider/urls.pyc'> (oauth2_provider:oauth2_provider) ^o/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u'<RegexURLResolver <RegexURLPattern list> (admin:badgradmin) ^staff/>'
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'health.urls' from '/Users/nnichols/code/csky/badgr-server/apps/health/urls.pyc'> (None:None) ^health>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrlog.urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrlog/urls.pyc'> (None:None) ^json-ld/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.public_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/public_api_urls.pyc'> (None:None) ^public/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'pathway.public_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/pathway/public_api_urls.pyc'> (None:None) ^public/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrsocialauth.redirect_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/redirect_urls.pyc'> (None:None) ^account/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgeuser.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgeuser/v1_api_urls.pyc'> (None:None) ^v1/user/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrsocialauth.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/v1_api_urls.pyc'> (None:None) ^v1/user/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/v1_api_urls.pyc'> (None:None) ^v1/issuer/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'backpack.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/backpack/v1_api_urls.pyc'> (None:None) ^v1/earner/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'pathway.api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/pathway/api_urls.pyc'> (None:None) ^v2/issuers/(?P<issuer_slug>[^/]+)/pathways/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'recipient.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/recipient/v1_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/v2_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgeuser.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgeuser/v2_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'backpack.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/backpack/v2_api_urls.pyc'> (None:None) ^v2/backpack/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'externaltools.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/externaltools/v1_api_urls.pyc'> (None:None) ^v1/externaltools/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'externaltools.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/externaltools/v2_api_urls.pyc'> (None:None) ^v2/externaltools/>"
Not Found: /docs/v2/favicon-32x32.png
"GET /docs/v2/favicon-32x32.png HTTP/1.1" 404 8312
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd' AND `django_session`.`expire_date` > '2019-07-11 23:36:02.660611'); args=('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd', u'2019-07-11 23:36:02.660611')
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'oauth2_provider.urls' from '/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/oauth2_provider/urls.pyc'> (oauth2_provider:oauth2_provider) ^o/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u'<RegexURLResolver <RegexURLPattern list> (admin:badgradmin) ^staff/>'
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'health.urls' from '/Users/nnichols/code/csky/badgr-server/apps/health/urls.pyc'> (None:None) ^health>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrlog.urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrlog/urls.pyc'> (None:None) ^json-ld/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.public_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/public_api_urls.pyc'> (None:None) ^public/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'pathway.public_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/pathway/public_api_urls.pyc'> (None:None) ^public/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrsocialauth.redirect_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/redirect_urls.pyc'> (None:None) ^account/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgeuser.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgeuser/v1_api_urls.pyc'> (None:None) ^v1/user/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrsocialauth.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/v1_api_urls.pyc'> (None:None) ^v1/user/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/v1_api_urls.pyc'> (None:None) ^v1/issuer/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'backpack.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/backpack/v1_api_urls.pyc'> (None:None) ^v1/earner/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'pathway.api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/pathway/api_urls.pyc'> (None:None) ^v2/issuers/(?P<issuer_slug>[^/]+)/pathways/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'recipient.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/recipient/v1_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/v2_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgeuser.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgeuser/v2_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'backpack.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/backpack/v2_api_urls.pyc'> (None:None) ^v2/backpack/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'externaltools.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/externaltools/v1_api_urls.pyc'> (None:None) ^v1/externaltools/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'externaltools.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/externaltools/v2_api_urls.pyc'> (None:None) ^v2/externaltools/>"
Not Found: /docs/v2/favicon-16x16.png
"GET /docs/v2/favicon-16x16.png HTTP/1.1" 404 8312
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.002) SELECT VERSION(); args=None
(0.003) SELECT (1) AS `a` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:4220' LIMIT 1; args=('localhost:4220',)
"GET /v1/externaltools/ HTTP/1.1" 200 2
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT (1) AS `a` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:4220' LIMIT 1; args=('localhost:4220',)
"GET /v1/externaltools/ HTTP/1.1" 200 2
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd' AND `django_session`.`expire_date` > '2019-07-11 23:37:42.833140'); args=('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd', u'2019-07-11 23:37:42.833140')
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE `django_session`.`session_key` = 'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd'; args=('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd',)
(0.002) DELETE FROM `django_session` WHERE `django_session`.`session_key` IN ('bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd'); args=(u'bxytrsiaz1d4bj6ck9ddhipv3hhqxsqd',)
(0.002) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:4220'; args=('localhost:4220',)
(0.002) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`id` = 1; args=(1,)
(0.002) SELECT (1) AS `a` FROM `django_session` WHERE `django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' LIMIT 1; args=(u'hx4qp9hbi5cn8z5895pqo0z4awoa3iom',)
(0.001) INSERT INTO `django_session` (`session_key`, `session_data`, `expire_date`) VALUES ('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', 'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', '2019-07-25 23:37:42.875895'); args=(u'hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', u'2019-07-25 23:37:42.875895')
"GET /account/sociallogin?provider=saml2.oktalocalcsky HTTP/1.1" 302 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:42.888522'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:42.888522')
(0.005) SELECT `badgrsocialauth_saml2configuration`.`id`, `badgrsocialauth_saml2configuration`.`metadata_conf_url`, `badgrsocialauth_saml2configuration`.`cached_metadata`, `badgrsocialauth_saml2configuration`.`slug` FROM `badgrsocialauth_saml2configuration` WHERE `badgrsocialauth_saml2configuration`.`slug` = 'saml2.oktalocalcsky'; args=(u'saml2.oktalocalcsky',)
Internal Server Error: /saml2/saml2.oktalocalcsky/
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/core/handlers/exception.py", line 41, in inner
    response = get_response(request)
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/core/handlers/base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/core/handlers/base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/core/handlers/base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/views.py", line 229, in saml2_redirect
    saml_client, _ = saml2_client_for(idp_name)
  File "/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/views.py", line 125, in saml2_client_for
    raise Exception("Saml2Configuration for IDP '{}' not found".format(idp_name))
Exception: Saml2Configuration for IDP 'saml2.oktalocalcsky' not found
"GET /saml2/saml2.oktalocalcsky/ HTTP/1.1" 500 91032
"GET /robots.txt?1562888262988 HTTP/1.1" 301 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:43.146732'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:43.146732')
"GET /favicon.ico HTTP/1.1" 301 0
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.002) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:43.176889'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:43.176889')
Not Found: /static/images/favicon.png
"GET /static/images/favicon.png HTTP/1.1" 404 1781
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:55.808912'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:55.808912')
"GET /staff/ HTTP/1.1" 302 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:55.887902'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:55.887902')
(0.003) SELECT `django_site`.`id`, `django_site`.`domain`, `django_site`.`name` FROM `django_site` WHERE `django_site`.`id` = 1; args=(1,)
Exception while resolving variable 'is_popup' in template 'admin/login.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [is_popup] in u"[{'False': False, 'None': None, 'True': True}, {'PINGDOM_MONITORING_ID': None, u'csrf_token': <SimpleLazyObject: <function _get_val at 0x10b0b52a8>>, 'GOOGLE_ANALYTICS_ID': None, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x1127b31d0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x11266f690>, u'TIME_ZONE': 'America/Los_Angeles', u'STATIC_URL': 'http://localhost:7000/static/', 'HELP_EMAIL': 'notto@concentricsky.com', u'LANGUAGES': [(u'af', u'Afrikaans'), (u'ar', u'Arabic'), (u'ast', u'Asturian'), (u'az', u'Azerbaijani'), (u'bg', u'Bulgarian'), (u'be', u'Belarusian'), (u'bn', u'Bengali'), (u'br', u'Breton'), (u'bs', u'Bosnian'), (u'ca', u'Catalan'), (u'cs', u'Czech'), (u'cy', u'Welsh'), (u'da', u'Danish'), (u'de', u'German'), (u'dsb', u'Lower Sorbian'), (u'el', u'Greek'), (u'en', u'English'), (u'en-au', u'Australian English'), (u'en-gb', u'British English'), (u'eo', u'Esperanto'), (u'es', u'Spanish'), (u'es-ar', u'Argentinian Spanish'), (u'es-co', u'Colombian Spanish'), (u'es-mx', u'Mexican Spanish'), (u'es-ni', u'Nicaraguan Spanish'), (u'es-ve', u'Venezuelan Spanish'), (u'et', u'Estonian'), (u'eu', u'Basque'), (u'fa', u'Persian'), (u'fi', u'Finnish'), (u'fr', u'French'), (u'fy', u'Frisian'), (u'ga', u'Irish'), (u'gd', u'Scottish Gaelic'), (u'gl', u'Galician'), (u'he', u'Hebrew'), (u'hi', u'Hindi'), (u'hr', u'Croatian'), (u'hsb', u'Upper Sorbian'), (u'hu', u'Hungarian'), (u'ia', u'Interlingua'), (u'id', u'Indonesian'), (u'io', u'Ido'), (u'is', u'Icelandic'), (u'it', u'Italian'), (u'ja', u'Japanese'), (u'ka', u'Georgian'), (u'kk', u'Kazakh'), (u'km', u'Khmer'), (u'kn', u'Kannada'), (u'ko', u'Korean'), (u'lb', u'Luxembourgish'), (u'lt', u'Lithuanian'), (u'lv', u'Latvian'), (u'mk', u'Macedonian'), (u'ml', u'Malayalam'), (u'mn', u'Mongolian'), (u'mr', u'Marathi'), (u'my', u'Burmese'), (u'nb', u'Norwegian Bokm\\xe5l'), (u'ne', u'Nepali'), (u'nl', u'Dutch'), (u'nn', u'Norwegian Nynorsk'), (u'os', u'Ossetic'), (u'pa', u'Punjabi'), (u'pl', u'Polish'), (u'pt', u'Portuguese'), (u'pt-br', u'Brazilian Portuguese'), (u'ro', u'Romanian'), (u'ru', u'Russian'), (u'sk', u'Slovak'), (u'sl', u'Slovenian'), (u'sq', u'Albanian'), (u'sr', u'Serbian'), (u'sr-latn', u'Serbian Latin'), (u'sv', u'Swedish'), (u'sw', u'Swahili'), (u'ta', u'Tamil'), (u'te', u'Telugu'), (u'th', u'Thai'), (u'tr', u'Turkish'), (u'tt', u'Tatar'), (u'udm', u'Udmurt'), (u'uk', u'Ukrainian'), (u'ur', u'Urdu'), (u'vi', u'Vietnamese'), (u'zh-hans', u'Simplified Chinese'), (u'zh-hant', u'Traditional Chinese')], 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x11266fed0>>, u'LANGUAGE_CODE': 'en-us', 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'WARNING': 30, 'SUCCESS': 25, 'ERROR': 40}, u'LANGUAGE_BIDI': False, u'MEDIA_URL': 'http://localhost:7000/media/'}, {}, {'username': u'', 'app_path': u'/staff/login/?next=/staff/', 'available_apps': [], 'site_name': u'localhost', 'form': <AdminAuthenticationForm bound=False, valid=Unknown, fields=(username;password)>, 'title': u'Log in', 'site_header': u'Badgr', 'site': <Site: http://localhost:4220>, 'next': u'/staff/', 'site_title': 'Badgr', u'LANGUAGE_CODE': 'en-us', 'has_permission': False, 'site_url': '/', u'LANGUAGE_BIDI': False, u'view': <django.contrib.auth.views.LoginView object at 0x11266f610>}]"
Exception while resolving variable 'is_popup' in template 'admin/login.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [is_popup] in u"[{'False': False, 'None': None, 'True': True}, {'PINGDOM_MONITORING_ID': None, u'csrf_token': <SimpleLazyObject: <function _get_val at 0x10b0b52a8>>, 'GOOGLE_ANALYTICS_ID': None, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x1127b31d0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x11266f690>, u'TIME_ZONE': 'America/Los_Angeles', u'STATIC_URL': 'http://localhost:7000/static/', 'HELP_EMAIL': 'notto@concentricsky.com', u'LANGUAGES': [(u'af', u'Afrikaans'), (u'ar', u'Arabic'), (u'ast', u'Asturian'), (u'az', u'Azerbaijani'), (u'bg', u'Bulgarian'), (u'be', u'Belarusian'), (u'bn', u'Bengali'), (u'br', u'Breton'), (u'bs', u'Bosnian'), (u'ca', u'Catalan'), (u'cs', u'Czech'), (u'cy', u'Welsh'), (u'da', u'Danish'), (u'de', u'German'), (u'dsb', u'Lower Sorbian'), (u'el', u'Greek'), (u'en', u'English'), (u'en-au', u'Australian English'), (u'en-gb', u'British English'), (u'eo', u'Esperanto'), (u'es', u'Spanish'), (u'es-ar', u'Argentinian Spanish'), (u'es-co', u'Colombian Spanish'), (u'es-mx', u'Mexican Spanish'), (u'es-ni', u'Nicaraguan Spanish'), (u'es-ve', u'Venezuelan Spanish'), (u'et', u'Estonian'), (u'eu', u'Basque'), (u'fa', u'Persian'), (u'fi', u'Finnish'), (u'fr', u'French'), (u'fy', u'Frisian'), (u'ga', u'Irish'), (u'gd', u'Scottish Gaelic'), (u'gl', u'Galician'), (u'he', u'Hebrew'), (u'hi', u'Hindi'), (u'hr', u'Croatian'), (u'hsb', u'Upper Sorbian'), (u'hu', u'Hungarian'), (u'ia', u'Interlingua'), (u'id', u'Indonesian'), (u'io', u'Ido'), (u'is', u'Icelandic'), (u'it', u'Italian'), (u'ja', u'Japanese'), (u'ka', u'Georgian'), (u'kk', u'Kazakh'), (u'km', u'Khmer'), (u'kn', u'Kannada'), (u'ko', u'Korean'), (u'lb', u'Luxembourgish'), (u'lt', u'Lithuanian'), (u'lv', u'Latvian'), (u'mk', u'Macedonian'), (u'ml', u'Malayalam'), (u'mn', u'Mongolian'), (u'mr', u'Marathi'), (u'my', u'Burmese'), (u'nb', u'Norwegian Bokm\\xe5l'), (u'ne', u'Nepali'), (u'nl', u'Dutch'), (u'nn', u'Norwegian Nynorsk'), (u'os', u'Ossetic'), (u'pa', u'Punjabi'), (u'pl', u'Polish'), (u'pt', u'Portuguese'), (u'pt-br', u'Brazilian Portuguese'), (u'ro', u'Romanian'), (u'ru', u'Russian'), (u'sk', u'Slovak'), (u'sl', u'Slovenian'), (u'sq', u'Albanian'), (u'sr', u'Serbian'), (u'sr-latn', u'Serbian Latin'), (u'sv', u'Swedish'), (u'sw', u'Swahili'), (u'ta', u'Tamil'), (u'te', u'Telugu'), (u'th', u'Thai'), (u'tr', u'Turkish'), (u'tt', u'Tatar'), (u'udm', u'Udmurt'), (u'uk', u'Ukrainian'), (u'ur', u'Urdu'), (u'vi', u'Vietnamese'), (u'zh-hans', u'Simplified Chinese'), (u'zh-hant', u'Traditional Chinese')], 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x11266fed0>>, u'LANGUAGE_CODE': 'en-us', 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'WARNING': 30, 'SUCCESS': 25, 'ERROR': 40}, u'LANGUAGE_BIDI': False, u'MEDIA_URL': 'http://localhost:7000/media/'}, {}, {'username': u'', 'app_path': u'/staff/login/?next=/staff/', 'available_apps': [], 'site_name': u'localhost', 'form': <AdminAuthenticationForm bound=False, valid=Unknown, fields=(username;password)>, 'title': u'Log in', 'site_header': u'Badgr', 'site': <Site: http://localhost:4220>, 'next': u'/staff/', 'site_title': 'Badgr', u'LANGUAGE_CODE': 'en-us', 'has_permission': False, 'site_url': '/', u'LANGUAGE_BIDI': False, u'view': <django.contrib.auth.views.LoginView object at 0x11266f610>}]"
"GET /staff/login/?next=/staff/ HTTP/1.1" 200 2167
"GET /robots.txt?1562888275941 HTTP/1.1" 301 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT VERSION(); args=None
(0.003) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:55.944486'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:55.944486')
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:55.951461'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:55.951461')
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:55.950981'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:55.950981')
"GET /static/admin/css/base.css HTTP/1.1" 200 16066
"GET /static/badgr-ui/images/logo.svg HTTP/1.1" 200 11323
"GET /static/admin/css/login.css HTTP/1.1" 200 1203
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:56.283174'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:56.283174')
"GET /staff/ HTTP/1.1" 302 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:56.313210'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:56.313210')
Exception while resolving variable 'is_popup' in template 'admin/login.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [is_popup] in u"[{'False': False, 'None': None, 'True': True}, {'PINGDOM_MONITORING_ID': None, u'csrf_token': <SimpleLazyObject: <function _get_val at 0x10b2be500>>, 'GOOGLE_ANALYTICS_ID': None, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x112682d90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x112640f50>, u'TIME_ZONE': 'America/Los_Angeles', u'STATIC_URL': 'http://localhost:7000/static/', 'HELP_EMAIL': 'notto@concentricsky.com', u'LANGUAGES': [(u'af', u'Afrikaans'), (u'ar', u'Arabic'), (u'ast', u'Asturian'), (u'az', u'Azerbaijani'), (u'bg', u'Bulgarian'), (u'be', u'Belarusian'), (u'bn', u'Bengali'), (u'br', u'Breton'), (u'bs', u'Bosnian'), (u'ca', u'Catalan'), (u'cs', u'Czech'), (u'cy', u'Welsh'), (u'da', u'Danish'), (u'de', u'German'), (u'dsb', u'Lower Sorbian'), (u'el', u'Greek'), (u'en', u'English'), (u'en-au', u'Australian English'), (u'en-gb', u'British English'), (u'eo', u'Esperanto'), (u'es', u'Spanish'), (u'es-ar', u'Argentinian Spanish'), (u'es-co', u'Colombian Spanish'), (u'es-mx', u'Mexican Spanish'), (u'es-ni', u'Nicaraguan Spanish'), (u'es-ve', u'Venezuelan Spanish'), (u'et', u'Estonian'), (u'eu', u'Basque'), (u'fa', u'Persian'), (u'fi', u'Finnish'), (u'fr', u'French'), (u'fy', u'Frisian'), (u'ga', u'Irish'), (u'gd', u'Scottish Gaelic'), (u'gl', u'Galician'), (u'he', u'Hebrew'), (u'hi', u'Hindi'), (u'hr', u'Croatian'), (u'hsb', u'Upper Sorbian'), (u'hu', u'Hungarian'), (u'ia', u'Interlingua'), (u'id', u'Indonesian'), (u'io', u'Ido'), (u'is', u'Icelandic'), (u'it', u'Italian'), (u'ja', u'Japanese'), (u'ka', u'Georgian'), (u'kk', u'Kazakh'), (u'km', u'Khmer'), (u'kn', u'Kannada'), (u'ko', u'Korean'), (u'lb', u'Luxembourgish'), (u'lt', u'Lithuanian'), (u'lv', u'Latvian'), (u'mk', u'Macedonian'), (u'ml', u'Malayalam'), (u'mn', u'Mongolian'), (u'mr', u'Marathi'), (u'my', u'Burmese'), (u'nb', u'Norwegian Bokm\\xe5l'), (u'ne', u'Nepali'), (u'nl', u'Dutch'), (u'nn', u'Norwegian Nynorsk'), (u'os', u'Ossetic'), (u'pa', u'Punjabi'), (u'pl', u'Polish'), (u'pt', u'Portuguese'), (u'pt-br', u'Brazilian Portuguese'), (u'ro', u'Romanian'), (u'ru', u'Russian'), (u'sk', u'Slovak'), (u'sl', u'Slovenian'), (u'sq', u'Albanian'), (u'sr', u'Serbian'), (u'sr-latn', u'Serbian Latin'), (u'sv', u'Swedish'), (u'sw', u'Swahili'), (u'ta', u'Tamil'), (u'te', u'Telugu'), (u'th', u'Thai'), (u'tr', u'Turkish'), (u'tt', u'Tatar'), (u'udm', u'Udmurt'), (u'uk', u'Ukrainian'), (u'ur', u'Urdu'), (u'vi', u'Vietnamese'), (u'zh-hans', u'Simplified Chinese'), (u'zh-hant', u'Traditional Chinese')], 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x112640a10>>, u'LANGUAGE_CODE': 'en-us', 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'WARNING': 30, 'SUCCESS': 25, 'ERROR': 40}, u'LANGUAGE_BIDI': False, u'MEDIA_URL': 'http://localhost:7000/media/'}, {}, {'username': u'', 'app_path': u'/staff/login/?next=/staff/', 'available_apps': [], 'site_name': u'localhost', 'form': <AdminAuthenticationForm bound=False, valid=Unknown, fields=(username;password)>, 'title': u'Log in', 'site_header': u'Badgr', 'site': <Site: http://localhost:4220>, 'next': u'/staff/', 'site_title': 'Badgr', u'LANGUAGE_CODE': 'en-us', 'has_permission': False, 'site_url': '/', u'LANGUAGE_BIDI': False, u'view': <django.contrib.auth.views.LoginView object at 0x112640ed0>}]"
Exception while resolving variable 'is_popup' in template 'admin/login.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [is_popup] in u"[{'False': False, 'None': None, 'True': True}, {'PINGDOM_MONITORING_ID': None, u'csrf_token': <SimpleLazyObject: <function _get_val at 0x10b2be500>>, 'GOOGLE_ANALYTICS_ID': None, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x112682d90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x112640f50>, u'TIME_ZONE': 'America/Los_Angeles', u'STATIC_URL': 'http://localhost:7000/static/', 'HELP_EMAIL': 'notto@concentricsky.com', u'LANGUAGES': [(u'af', u'Afrikaans'), (u'ar', u'Arabic'), (u'ast', u'Asturian'), (u'az', u'Azerbaijani'), (u'bg', u'Bulgarian'), (u'be', u'Belarusian'), (u'bn', u'Bengali'), (u'br', u'Breton'), (u'bs', u'Bosnian'), (u'ca', u'Catalan'), (u'cs', u'Czech'), (u'cy', u'Welsh'), (u'da', u'Danish'), (u'de', u'German'), (u'dsb', u'Lower Sorbian'), (u'el', u'Greek'), (u'en', u'English'), (u'en-au', u'Australian English'), (u'en-gb', u'British English'), (u'eo', u'Esperanto'), (u'es', u'Spanish'), (u'es-ar', u'Argentinian Spanish'), (u'es-co', u'Colombian Spanish'), (u'es-mx', u'Mexican Spanish'), (u'es-ni', u'Nicaraguan Spanish'), (u'es-ve', u'Venezuelan Spanish'), (u'et', u'Estonian'), (u'eu', u'Basque'), (u'fa', u'Persian'), (u'fi', u'Finnish'), (u'fr', u'French'), (u'fy', u'Frisian'), (u'ga', u'Irish'), (u'gd', u'Scottish Gaelic'), (u'gl', u'Galician'), (u'he', u'Hebrew'), (u'hi', u'Hindi'), (u'hr', u'Croatian'), (u'hsb', u'Upper Sorbian'), (u'hu', u'Hungarian'), (u'ia', u'Interlingua'), (u'id', u'Indonesian'), (u'io', u'Ido'), (u'is', u'Icelandic'), (u'it', u'Italian'), (u'ja', u'Japanese'), (u'ka', u'Georgian'), (u'kk', u'Kazakh'), (u'km', u'Khmer'), (u'kn', u'Kannada'), (u'ko', u'Korean'), (u'lb', u'Luxembourgish'), (u'lt', u'Lithuanian'), (u'lv', u'Latvian'), (u'mk', u'Macedonian'), (u'ml', u'Malayalam'), (u'mn', u'Mongolian'), (u'mr', u'Marathi'), (u'my', u'Burmese'), (u'nb', u'Norwegian Bokm\\xe5l'), (u'ne', u'Nepali'), (u'nl', u'Dutch'), (u'nn', u'Norwegian Nynorsk'), (u'os', u'Ossetic'), (u'pa', u'Punjabi'), (u'pl', u'Polish'), (u'pt', u'Portuguese'), (u'pt-br', u'Brazilian Portuguese'), (u'ro', u'Romanian'), (u'ru', u'Russian'), (u'sk', u'Slovak'), (u'sl', u'Slovenian'), (u'sq', u'Albanian'), (u'sr', u'Serbian'), (u'sr-latn', u'Serbian Latin'), (u'sv', u'Swedish'), (u'sw', u'Swahili'), (u'ta', u'Tamil'), (u'te', u'Telugu'), (u'th', u'Thai'), (u'tr', u'Turkish'), (u'tt', u'Tatar'), (u'udm', u'Udmurt'), (u'uk', u'Ukrainian'), (u'ur', u'Urdu'), (u'vi', u'Vietnamese'), (u'zh-hans', u'Simplified Chinese'), (u'zh-hant', u'Traditional Chinese')], 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x112640a10>>, u'LANGUAGE_CODE': 'en-us', 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'WARNING': 30, 'SUCCESS': 25, 'ERROR': 40}, u'LANGUAGE_BIDI': False, u'MEDIA_URL': 'http://localhost:7000/media/'}, {}, {'username': u'', 'app_path': u'/staff/login/?next=/staff/', 'available_apps': [], 'site_name': u'localhost', 'form': <AdminAuthenticationForm bound=False, valid=Unknown, fields=(username;password)>, 'title': u'Log in', 'site_header': u'Badgr', 'site': <Site: http://localhost:4220>, 'next': u'/staff/', 'site_title': 'Badgr', u'LANGUAGE_CODE': 'en-us', 'has_permission': False, 'site_url': '/', u'LANGUAGE_BIDI': False, u'view': <django.contrib.auth.views.LoginView object at 0x112640ed0>}]"
"GET /staff/login/?next=/staff/ HTTP/1.1" 200 2167
"GET /robots.txt?1562888276518 HTTP/1.1" 301 0
"GET /robots.txt?1562888276519 HTTP/1.1" 301 0
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:56.548094'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:56.548094')
"GET /static/admin/css/fonts.css HTTP/1.1" 200 423
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:56.647496'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:56.647496')
(0.002) SELECT (1) AS `a` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:7000' LIMIT 1; args=('localhost:7000',)
"GET /static/admin/fonts/Roboto-Regular-webfont.woff HTTP/1.1" 200 80304
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom' AND `django_session`.`expire_date` > '2019-07-11 23:37:57.777448'); args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom', u'2019-07-11 23:37:57.777448')
(0.002) SELECT `users`.`id`, `users`.`password`, `users`.`last_login`, `users`.`is_superuser`, `users`.`username`, `users`.`first_name`, `users`.`last_name`, `users`.`email`, `users`.`is_staff`, `users`.`is_active`, `users`.`date_joined`, `users`.`entity_version`, `users`.`entity_id`, `users`.`badgrapp_id`, `users`.`marketing_opt_in` FROM `users` WHERE `users`.`username` = 'root'; args=(u'root',)
(0.001) SELECT (1) AS `a` FROM `django_session` WHERE `django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' LIMIT 1; args=(u'2nuvi9tptd0zic2dbcg43bsuw66ecg77',)
(0.001) INSERT INTO `django_session` (`session_key`, `session_data`, `expire_date`) VALUES ('2nuvi9tptd0zic2dbcg43bsuw66ecg77', 'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', '2019-07-25 23:37:57.845098'); args=(u'2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', u'2019-07-25 23:37:57.845098')
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE `django_session`.`session_key` = 'hx4qp9hbi5cn8z5895pqo0z4awoa3iom'; args=('hx4qp9hbi5cn8z5895pqo0z4awoa3iom',)
(0.001) DELETE FROM `django_session` WHERE `django_session`.`session_key` IN ('hx4qp9hbi5cn8z5895pqo0z4awoa3iom'); args=(u'hx4qp9hbi5cn8z5895pqo0z4awoa3iom',)
(0.001) UPDATE `django_session` SET `session_data` = 'MWY0MWRhYTY5OTBlNzQxOTgwYWMyZmVjNDQyMTZmMDM2ODMwZDY2Zjp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxLCJfYXV0aF91c2VyX2hhc2giOiI1Y2I3ZjZjZjUyYTEyOGQxZGRmNDViZjE2YTUzODE1MmJiMTVhMDVkIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiYmFkZ2V1c2VyLmJhY2tlbmRzLkNhY2hlZE1vZGVsQmFja2VuZCIsIl9hdXRoX3VzZXJfaWQiOiIxIn0=', `expire_date` = '2019-07-25 23:37:57.863788' WHERE `django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77'; args=(u'MWY0MWRhYTY5OTBlNzQxOTgwYWMyZmVjNDQyMTZmMDM2ODMwZDY2Zjp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxLCJfYXV0aF91c2VyX2hhc2giOiI1Y2I3ZjZjZjUyYTEyOGQxZGRmNDViZjE2YTUzODE1MmJiMTVhMDVkIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiYmFkZ2V1c2VyLmJhY2tlbmRzLkNhY2hlZE1vZGVsQmFja2VuZCIsIl9hdXRoX3VzZXJfaWQiOiIxIn0=', u'2019-07-25 23:37:57.863788', u'2nuvi9tptd0zic2dbcg43bsuw66ecg77')
(0.001) SELECT (1) AS `a` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:7000' LIMIT 1; args=('localhost:7000',)
"POST /staff/login/?next=/staff/ HTTP/1.1" 302 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:37:57.873820'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:37:57.873820')
Exception while resolving variable 'is_popup' in template 'admin/index.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [is_popup] in u"[{'False': False, 'None': None, 'True': True}, {'PINGDOM_MONITORING_ID': None, u'csrf_token': <SimpleLazyObject: <function _get_val at 0x1127517d0>>, 'GOOGLE_ANALYTICS_ID': None, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x1126e1610>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x11266f250>, u'TIME_ZONE': 'America/Los_Angeles', u'STATIC_URL': 'http://localhost:7000/static/', 'HELP_EMAIL': 'notto@concentricsky.com', u'LANGUAGES': [(u'af', u'Afrikaans'), (u'ar', u'Arabic'), (u'ast', u'Asturian'), (u'az', u'Azerbaijani'), (u'bg', u'Bulgarian'), (u'be', u'Belarusian'), (u'bn', u'Bengali'), (u'br', u'Breton'), (u'bs', u'Bosnian'), (u'ca', u'Catalan'), (u'cs', u'Czech'), (u'cy', u'Welsh'), (u'da', u'Danish'), (u'de', u'German'), (u'dsb', u'Lower Sorbian'), (u'el', u'Greek'), (u'en', u'English'), (u'en-au', u'Australian English'), (u'en-gb', u'British English'), (u'eo', u'Esperanto'), (u'es', u'Spanish'), (u'es-ar', u'Argentinian Spanish'), (u'es-co', u'Colombian Spanish'), (u'es-mx', u'Mexican Spanish'), (u'es-ni', u'Nicaraguan Spanish'), (u'es-ve', u'Venezuelan Spanish'), (u'et', u'Estonian'), (u'eu', u'Basque'), (u'fa', u'Persian'), (u'fi', u'Finnish'), (u'fr', u'French'), (u'fy', u'Frisian'), (u'ga', u'Irish'), (u'gd', u'Scottish Gaelic'), (u'gl', u'Galician'), (u'he', u'Hebrew'), (u'hi', u'Hindi'), (u'hr', u'Croatian'), (u'hsb', u'Upper Sorbian'), (u'hu', u'Hungarian'), (u'ia', u'Interlingua'), (u'id', u'Indonesian'), (u'io', u'Ido'), (u'is', u'Icelandic'), (u'it', u'Italian'), (u'ja', u'Japanese'), (u'ka', u'Georgian'), (u'kk', u'Kazakh'), (u'km', u'Khmer'), (u'kn', u'Kannada'), (u'ko', u'Korean'), (u'lb', u'Luxembourgish'), (u'lt', u'Lithuanian'), (u'lv', u'Latvian'), (u'mk', u'Macedonian'), (u'ml', u'Malayalam'), (u'mn', u'Mongolian'), (u'mr', u'Marathi'), (u'my', u'Burmese'), (u'nb', u'Norwegian Bokm\\xe5l'), (u'ne', u'Nepali'), (u'nl', u'Dutch'), (u'nn', u'Norwegian Nynorsk'), (u'os', u'Ossetic'), (u'pa', u'Punjabi'), (u'pl', u'Polish'), (u'pt', u'Portuguese'), (u'pt-br', u'Brazilian Portuguese'), (u'ro', u'Romanian'), (u'ru', u'Russian'), (u'sk', u'Slovak'), (u'sl', u'Slovenian'), (u'sq', u'Albanian'), (u'sr', u'Serbian'), (u'sr-latn', u'Serbian Latin'), (u'sv', u'Swedish'), (u'sw', u'Swahili'), (u'ta', u'Tamil'), (u'te', u'Telugu'), (u'th', u'Thai'), (u'tr', u'Turkish'), (u'tt', u'Tatar'), (u'udm', u'Udmurt'), (u'uk', u'Ukrainian'), (u'ur', u'Urdu'), (u'vi', u'Vietnamese'), (u'zh-hans', u'Simplified Chinese'), (u'zh-hant', u'Traditional Chinese')], 'user': <SimpleLazyObject: <BadgeUser:   <root@example.com>>>, u'LANGUAGE_CODE': 'en-us', 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'WARNING': 30, 'SUCCESS': 25, 'ERROR': 40}, u'LANGUAGE_BIDI': False, u'MEDIA_URL': 'http://localhost:7000/media/'}, {}, {'site_header': u'Badgr', 'available_apps': [{'app_url': u'/staff/auth/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/auth/group/', 'object_name': 'Group', 'name': u'Groups', 'add_url': u'/staff/auth/group/add/'}], 'has_module_perms': True, 'name': u'Authentication and Authorization', 'app_label': 'auth'}, {'app_url': u'/staff/backpack/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/backpack/backpackcollection/', 'object_name': 'BackpackCollection', 'name': u'Backpack collections', 'add_url': u'/staff/backpack/backpackcollection/add/'}], 'has_module_perms': True, 'name': 'Backpack', 'app_label': 'backpack'}, {'app_url': u'/staff/badgeuser/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/badgeuser/', 'object_name': 'BadgeUser', 'name': u'Badge users', 'add_url': u'/staff/badgeuser/badgeuser/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/emailaddressvariant/', 'object_name': 'EmailAddressVariant', 'name': u'Email address variants', 'add_url': u'/staff/badgeuser/emailaddressvariant/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/cachedemailaddress/', 'object_name': 'CachedEmailAddress', 'name': u'Email addresses', 'add_url': u'/staff/badgeuser/cachedemailaddress/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/proxyemailconfirmation/', 'object_name': 'ProxyEmailConfirmation', 'name': u'Email confirmations', 'add_url': u'/staff/badgeuser/proxyemailconfirmation/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/termsversion/', 'object_name': 'TermsVersion', 'name': u'Terms versions', 'add_url': u'/staff/badgeuser/termsversion/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/userrecipientidentifier/', 'object_name': 'UserRecipientIdentifier', 'name': u'User recipient identifiers', 'add_url': u'/staff/badgeuser/userrecipientidentifier/add/'}], 'has_module_perms': True, 'name': 'Badgeuser', 'app_label': 'badgeuser'}, {'app_url': u'/staff/badgrsocialauth/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgrsocialauth/saml2account/', 'object_name': 'Saml2Account', 'name': u'Saml2 accounts', 'add_url': u'/staff/badgrsocialauth/saml2account/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgrsocialauth/saml2configuration/', 'object_name': 'Saml2Configuration', 'name': u'Saml2 configurations', 'add_url': u'/staff/badgrsocialauth/saml2configuration/add/'}], 'has_module_perms': True, 'name': 'Badgrsocialauth', 'app_label': 'badgrsocialauth'}, {'app_url': u'/staff/oauth2_provider/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/oauth2_provider/application/', 'object_name': 'Application', 'name': u'Applications', 'add_url': u'/staff/oauth2_provider/application/add/'}], 'has_module_perms': True, 'name': 'Django OAuth Toolkit', 'app_label': 'oauth2_provider'}, {'app_url': u'/staff/externaltools/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/externaltools/externaltool/', 'object_name': 'ExternalTool', 'name': u'External tools', 'add_url': u'/staff/externaltools/externaltool/add/'}], 'has_module_perms': True, 'name': 'Externaltools', 'app_label': 'externaltools'}, {'app_url': u'/staff/issuer/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeclassextension/', 'object_name': 'BadgeClassExtension', 'name': u'Badge class extensions', 'add_url': u'/staff/issuer/badgeclassextension/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeclass/', 'object_name': 'BadgeClass', 'name': u'Badge classes', 'add_url': u'/staff/issuer/badgeclass/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeinstanceextension/', 'object_name': 'BadgeInstanceExtension', 'name': u'Badge instance extensions', 'add_url': u'/staff/issuer/badgeinstanceextension/add/'}, {'perms': {u'add': False, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeinstance/', 'object_name': 'BadgeInstance', 'name': u'Badge instances'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/issuerextension/', 'object_name': 'IssuerExtension', 'name': u'Issuer extensions', 'add_url': u'/staff/issuer/issuerextension/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/issuer/', 'object_name': 'Issuer', 'name': u'Issuers', 'add_url': u'/staff/issuer/issuer/add/'}], 'has_module_perms': True, 'name': 'Issuer', 'app_label': 'issuer'}, {'app_url': u'/staff/mainsite/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/accesstokenproxy/', 'object_name': 'AccessTokenProxy', 'name': u'Access tokens', 'add_url': u'/staff/mainsite/accesstokenproxy/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/badgrapp/', 'object_name': 'BadgrApp', 'name': u'Badgr apps', 'add_url': u'/staff/mainsite/badgrapp/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/emailblacklist/', 'object_name': 'EmailBlacklist', 'name': u'Blacklisted emails', 'add_url': u'/staff/mainsite/emailblacklist/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/legacytokenproxy/', 'object_name': 'LegacyTokenProxy', 'name': u'Legacy tokens', 'add_url': u'/staff/mainsite/legacytokenproxy/add/'}], 'has_module_perms': True, 'name': 'Mainsite', 'app_label': 'mainsite'}, {'app_url': u'/staff/pathway/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathwayelementbadge/', 'object_name': 'PathwayElementBadge', 'name': u'Pathway element badges', 'add_url': u'/staff/pathway/pathwayelementbadge/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathwayelement/', 'object_name': 'PathwayElement', 'name': u'Pathway elements', 'add_url': u'/staff/pathway/pathwayelement/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathway/', 'object_name': 'Pathway', 'name': u'Pathways', 'add_url': u'/staff/pathway/pathway/add/'}], 'has_module_perms': True, 'name': 'Pathway', 'app_label': 'pathway'}, {'app_url': u'/staff/recipient/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/recipient/recipientgroup/', 'object_name': 'RecipientGroup', 'name': u'Recipient groups', 'add_url': u'/staff/recipient/recipientgroup/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/recipient/recipientprofile/', 'object_name': 'RecipientProfile', 'name': u'Recipient profiles', 'add_url': u'/staff/recipient/recipientprofile/add/'}], 'has_module_perms': True, 'name': 'Recipient', 'app_label': 'recipient'}, {'app_url': u'/staff/sites/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/sites/site/', 'object_name': 'Site', 'name': u'Sites', 'add_url': u'/staff/sites/site/add/'}], 'has_module_perms': True, 'name': u'Sites', 'app_label': 'sites'}, {'app_url': u'/staff/socialaccount/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialaccount/', 'object_name': 'SocialAccount', 'name': u'Social accounts', 'add_url': u'/staff/socialaccount/socialaccount/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialtoken/', 'object_name': 'SocialToken', 'name': u'Social application tokens', 'add_url': u'/staff/socialaccount/socialtoken/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialapp/', 'object_name': 'SocialApp', 'name': u'Social applications', 'add_url': u'/staff/socialaccount/socialapp/add/'}], 'has_module_perms': True, 'name': u'Social Accounts', 'app_label': 'socialaccount'}], 'site_title': 'Badgr', 'title': u'Staff Dashboard', 'has_permission': True, 'app_list': [{'app_url': u'/staff/auth/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/auth/group/', 'object_name': 'Group', 'name': u'Groups', 'add_url': u'/staff/auth/group/add/'}], 'has_module_perms': True, 'name': u'Authentication and Authorization', 'app_label': 'auth'}, {'app_url': u'/staff/backpack/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/backpack/backpackcollection/', 'object_name': 'BackpackCollection', 'name': u'Backpack collections', 'add_url': u'/staff/backpack/backpackcollection/add/'}], 'has_module_perms': True, 'name': 'Backpack', 'app_label': 'backpack'}, {'app_url': u'/staff/badgeuser/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/badgeuser/', 'object_name': 'BadgeUser', 'name': u'Badge users', 'add_url': u'/staff/badgeuser/badgeuser/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/emailaddressvariant/', 'object_name': 'EmailAddressVariant', 'name': u'Email address variants', 'add_url': u'/staff/badgeuser/emailaddressvariant/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/cachedemailaddress/', 'object_name': 'CachedEmailAddress', 'name': u'Email addresses', 'add_url': u'/staff/badgeuser/cachedemailaddress/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/proxyemailconfirmation/', 'object_name': 'ProxyEmailConfirmation', 'name': u'Email confirmations', 'add_url': u'/staff/badgeuser/proxyemailconfirmation/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/termsversion/', 'object_name': 'TermsVersion', 'name': u'Terms versions', 'add_url': u'/staff/badgeuser/termsversion/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/userrecipientidentifier/', 'object_name': 'UserRecipientIdentifier', 'name': u'User recipient identifiers', 'add_url': u'/staff/badgeuser/userrecipientidentifier/add/'}], 'has_module_perms': True, 'name': 'Badgeuser', 'app_label': 'badgeuser'}, {'app_url': u'/staff/badgrsocialauth/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgrsocialauth/saml2account/', 'object_name': 'Saml2Account', 'name': u'Saml2 accounts', 'add_url': u'/staff/badgrsocialauth/saml2account/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgrsocialauth/saml2configuration/', 'object_name': 'Saml2Configuration', 'name': u'Saml2 configurations', 'add_url': u'/staff/badgrsocialauth/saml2configuration/add/'}], 'has_module_perms': True, 'name': 'Badgrsocialauth', 'app_label': 'badgrsocialauth'}, {'app_url': u'/staff/oauth2_provider/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/oauth2_provider/application/', 'object_name': 'Application', 'name': u'Applications', 'add_url': u'/staff/oauth2_provider/application/add/'}], 'has_module_perms': True, 'name': 'Django OAuth Toolkit', 'app_label': 'oauth2_provider'}, {'app_url': u'/staff/externaltools/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/externaltools/externaltool/', 'object_name': 'ExternalTool', 'name': u'External tools', 'add_url': u'/staff/externaltools/externaltool/add/'}], 'has_module_perms': True, 'name': 'Externaltools', 'app_label': 'externaltools'}, {'app_url': u'/staff/issuer/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeclassextension/', 'object_name': 'BadgeClassExtension', 'name': u'Badge class extensions', 'add_url': u'/staff/issuer/badgeclassextension/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeclass/', 'object_name': 'BadgeClass', 'name': u'Badge classes', 'add_url': u'/staff/issuer/badgeclass/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeinstanceextension/', 'object_name': 'BadgeInstanceExtension', 'name': u'Badge instance extensions', 'add_url': u'/staff/issuer/badgeinstanceextension/add/'}, {'perms': {u'add': False, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeinstance/', 'object_name': 'BadgeInstance', 'name': u'Badge instances'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/issuerextension/', 'object_name': 'IssuerExtension', 'name': u'Issuer extensions', 'add_url': u'/staff/issuer/issuerextension/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/issuer/', 'object_name': 'Issuer', 'name': u'Issuers', 'add_url': u'/staff/issuer/issuer/add/'}], 'has_module_perms': True, 'name': 'Issuer', 'app_label': 'issuer'}, {'app_url': u'/staff/mainsite/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/accesstokenproxy/', 'object_name': 'AccessTokenProxy', 'name': u'Access tokens', 'add_url': u'/staff/mainsite/accesstokenproxy/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/badgrapp/', 'object_name': 'BadgrApp', 'name': u'Badgr apps', 'add_url': u'/staff/mainsite/badgrapp/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/emailblacklist/', 'object_name': 'EmailBlacklist', 'name': u'Blacklisted emails', 'add_url': u'/staff/mainsite/emailblacklist/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/legacytokenproxy/', 'object_name': 'LegacyTokenProxy', 'name': u'Legacy tokens', 'add_url': u'/staff/mainsite/legacytokenproxy/add/'}], 'has_module_perms': True, 'name': 'Mainsite', 'app_label': 'mainsite'}, {'app_url': u'/staff/pathway/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathwayelementbadge/', 'object_name': 'PathwayElementBadge', 'name': u'Pathway element badges', 'add_url': u'/staff/pathway/pathwayelementbadge/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathwayelement/', 'object_name': 'PathwayElement', 'name': u'Pathway elements', 'add_url': u'/staff/pathway/pathwayelement/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathway/', 'object_name': 'Pathway', 'name': u'Pathways', 'add_url': u'/staff/pathway/pathway/add/'}], 'has_module_perms': True, 'name': 'Pathway', 'app_label': 'pathway'}, {'app_url': u'/staff/recipient/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/recipient/recipientgroup/', 'object_name': 'RecipientGroup', 'name': u'Recipient groups', 'add_url': u'/staff/recipient/recipientgroup/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/recipient/recipientprofile/', 'object_name': 'RecipientProfile', 'name': u'Recipient profiles', 'add_url': u'/staff/recipient/recipientprofile/add/'}], 'has_module_perms': True, 'name': 'Recipient', 'app_label': 'recipient'}, {'app_url': u'/staff/sites/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/sites/site/', 'object_name': 'Site', 'name': u'Sites', 'add_url': u'/staff/sites/site/add/'}], 'has_module_perms': True, 'name': u'Sites', 'app_label': 'sites'}, {'app_url': u'/staff/socialaccount/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialaccount/', 'object_name': 'SocialAccount', 'name': u'Social accounts', 'add_url': u'/staff/socialaccount/socialaccount/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialtoken/', 'object_name': 'SocialToken', 'name': u'Social application tokens', 'add_url': u'/staff/socialaccount/socialtoken/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialapp/', 'object_name': 'SocialApp', 'name': u'Social applications', 'add_url': u'/staff/socialaccount/socialapp/add/'}], 'has_module_perms': True, 'name': u'Social Accounts', 'app_label': 'socialaccount'}], u'LANGUAGE_CODE': 'en-us', u'LANGUAGE_BIDI': False, 'site_url': '/'}]"
Exception while resolving variable 'is_popup' in template 'admin/index.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [is_popup] in u"[{'False': False, 'None': None, 'True': True}, {'PINGDOM_MONITORING_ID': None, u'csrf_token': <SimpleLazyObject: <function _get_val at 0x1127517d0>>, 'GOOGLE_ANALYTICS_ID': None, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x1126e1610>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x11266f250>, u'TIME_ZONE': 'America/Los_Angeles', u'STATIC_URL': 'http://localhost:7000/static/', 'HELP_EMAIL': 'notto@concentricsky.com', u'LANGUAGES': [(u'af', u'Afrikaans'), (u'ar', u'Arabic'), (u'ast', u'Asturian'), (u'az', u'Azerbaijani'), (u'bg', u'Bulgarian'), (u'be', u'Belarusian'), (u'bn', u'Bengali'), (u'br', u'Breton'), (u'bs', u'Bosnian'), (u'ca', u'Catalan'), (u'cs', u'Czech'), (u'cy', u'Welsh'), (u'da', u'Danish'), (u'de', u'German'), (u'dsb', u'Lower Sorbian'), (u'el', u'Greek'), (u'en', u'English'), (u'en-au', u'Australian English'), (u'en-gb', u'British English'), (u'eo', u'Esperanto'), (u'es', u'Spanish'), (u'es-ar', u'Argentinian Spanish'), (u'es-co', u'Colombian Spanish'), (u'es-mx', u'Mexican Spanish'), (u'es-ni', u'Nicaraguan Spanish'), (u'es-ve', u'Venezuelan Spanish'), (u'et', u'Estonian'), (u'eu', u'Basque'), (u'fa', u'Persian'), (u'fi', u'Finnish'), (u'fr', u'French'), (u'fy', u'Frisian'), (u'ga', u'Irish'), (u'gd', u'Scottish Gaelic'), (u'gl', u'Galician'), (u'he', u'Hebrew'), (u'hi', u'Hindi'), (u'hr', u'Croatian'), (u'hsb', u'Upper Sorbian'), (u'hu', u'Hungarian'), (u'ia', u'Interlingua'), (u'id', u'Indonesian'), (u'io', u'Ido'), (u'is', u'Icelandic'), (u'it', u'Italian'), (u'ja', u'Japanese'), (u'ka', u'Georgian'), (u'kk', u'Kazakh'), (u'km', u'Khmer'), (u'kn', u'Kannada'), (u'ko', u'Korean'), (u'lb', u'Luxembourgish'), (u'lt', u'Lithuanian'), (u'lv', u'Latvian'), (u'mk', u'Macedonian'), (u'ml', u'Malayalam'), (u'mn', u'Mongolian'), (u'mr', u'Marathi'), (u'my', u'Burmese'), (u'nb', u'Norwegian Bokm\\xe5l'), (u'ne', u'Nepali'), (u'nl', u'Dutch'), (u'nn', u'Norwegian Nynorsk'), (u'os', u'Ossetic'), (u'pa', u'Punjabi'), (u'pl', u'Polish'), (u'pt', u'Portuguese'), (u'pt-br', u'Brazilian Portuguese'), (u'ro', u'Romanian'), (u'ru', u'Russian'), (u'sk', u'Slovak'), (u'sl', u'Slovenian'), (u'sq', u'Albanian'), (u'sr', u'Serbian'), (u'sr-latn', u'Serbian Latin'), (u'sv', u'Swedish'), (u'sw', u'Swahili'), (u'ta', u'Tamil'), (u'te', u'Telugu'), (u'th', u'Thai'), (u'tr', u'Turkish'), (u'tt', u'Tatar'), (u'udm', u'Udmurt'), (u'uk', u'Ukrainian'), (u'ur', u'Urdu'), (u'vi', u'Vietnamese'), (u'zh-hans', u'Simplified Chinese'), (u'zh-hant', u'Traditional Chinese')], 'user': <SimpleLazyObject: <BadgeUser:   <root@example.com>>>, u'LANGUAGE_CODE': 'en-us', 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'WARNING': 30, 'SUCCESS': 25, 'ERROR': 40}, u'LANGUAGE_BIDI': False, u'MEDIA_URL': 'http://localhost:7000/media/'}, {}, {'site_header': u'Badgr', 'available_apps': [{'app_url': u'/staff/auth/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/auth/group/', 'object_name': 'Group', 'name': u'Groups', 'add_url': u'/staff/auth/group/add/'}], 'has_module_perms': True, 'name': u'Authentication and Authorization', 'app_label': 'auth'}, {'app_url': u'/staff/backpack/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/backpack/backpackcollection/', 'object_name': 'BackpackCollection', 'name': u'Backpack collections', 'add_url': u'/staff/backpack/backpackcollection/add/'}], 'has_module_perms': True, 'name': 'Backpack', 'app_label': 'backpack'}, {'app_url': u'/staff/badgeuser/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/badgeuser/', 'object_name': 'BadgeUser', 'name': u'Badge users', 'add_url': u'/staff/badgeuser/badgeuser/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/emailaddressvariant/', 'object_name': 'EmailAddressVariant', 'name': u'Email address variants', 'add_url': u'/staff/badgeuser/emailaddressvariant/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/cachedemailaddress/', 'object_name': 'CachedEmailAddress', 'name': u'Email addresses', 'add_url': u'/staff/badgeuser/cachedemailaddress/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/proxyemailconfirmation/', 'object_name': 'ProxyEmailConfirmation', 'name': u'Email confirmations', 'add_url': u'/staff/badgeuser/proxyemailconfirmation/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/termsversion/', 'object_name': 'TermsVersion', 'name': u'Terms versions', 'add_url': u'/staff/badgeuser/termsversion/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/userrecipientidentifier/', 'object_name': 'UserRecipientIdentifier', 'name': u'User recipient identifiers', 'add_url': u'/staff/badgeuser/userrecipientidentifier/add/'}], 'has_module_perms': True, 'name': 'Badgeuser', 'app_label': 'badgeuser'}, {'app_url': u'/staff/badgrsocialauth/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgrsocialauth/saml2account/', 'object_name': 'Saml2Account', 'name': u'Saml2 accounts', 'add_url': u'/staff/badgrsocialauth/saml2account/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgrsocialauth/saml2configuration/', 'object_name': 'Saml2Configuration', 'name': u'Saml2 configurations', 'add_url': u'/staff/badgrsocialauth/saml2configuration/add/'}], 'has_module_perms': True, 'name': 'Badgrsocialauth', 'app_label': 'badgrsocialauth'}, {'app_url': u'/staff/oauth2_provider/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/oauth2_provider/application/', 'object_name': 'Application', 'name': u'Applications', 'add_url': u'/staff/oauth2_provider/application/add/'}], 'has_module_perms': True, 'name': 'Django OAuth Toolkit', 'app_label': 'oauth2_provider'}, {'app_url': u'/staff/externaltools/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/externaltools/externaltool/', 'object_name': 'ExternalTool', 'name': u'External tools', 'add_url': u'/staff/externaltools/externaltool/add/'}], 'has_module_perms': True, 'name': 'Externaltools', 'app_label': 'externaltools'}, {'app_url': u'/staff/issuer/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeclassextension/', 'object_name': 'BadgeClassExtension', 'name': u'Badge class extensions', 'add_url': u'/staff/issuer/badgeclassextension/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeclass/', 'object_name': 'BadgeClass', 'name': u'Badge classes', 'add_url': u'/staff/issuer/badgeclass/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeinstanceextension/', 'object_name': 'BadgeInstanceExtension', 'name': u'Badge instance extensions', 'add_url': u'/staff/issuer/badgeinstanceextension/add/'}, {'perms': {u'add': False, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeinstance/', 'object_name': 'BadgeInstance', 'name': u'Badge instances'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/issuerextension/', 'object_name': 'IssuerExtension', 'name': u'Issuer extensions', 'add_url': u'/staff/issuer/issuerextension/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/issuer/', 'object_name': 'Issuer', 'name': u'Issuers', 'add_url': u'/staff/issuer/issuer/add/'}], 'has_module_perms': True, 'name': 'Issuer', 'app_label': 'issuer'}, {'app_url': u'/staff/mainsite/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/accesstokenproxy/', 'object_name': 'AccessTokenProxy', 'name': u'Access tokens', 'add_url': u'/staff/mainsite/accesstokenproxy/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/badgrapp/', 'object_name': 'BadgrApp', 'name': u'Badgr apps', 'add_url': u'/staff/mainsite/badgrapp/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/emailblacklist/', 'object_name': 'EmailBlacklist', 'name': u'Blacklisted emails', 'add_url': u'/staff/mainsite/emailblacklist/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/legacytokenproxy/', 'object_name': 'LegacyTokenProxy', 'name': u'Legacy tokens', 'add_url': u'/staff/mainsite/legacytokenproxy/add/'}], 'has_module_perms': True, 'name': 'Mainsite', 'app_label': 'mainsite'}, {'app_url': u'/staff/pathway/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathwayelementbadge/', 'object_name': 'PathwayElementBadge', 'name': u'Pathway element badges', 'add_url': u'/staff/pathway/pathwayelementbadge/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathwayelement/', 'object_name': 'PathwayElement', 'name': u'Pathway elements', 'add_url': u'/staff/pathway/pathwayelement/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathway/', 'object_name': 'Pathway', 'name': u'Pathways', 'add_url': u'/staff/pathway/pathway/add/'}], 'has_module_perms': True, 'name': 'Pathway', 'app_label': 'pathway'}, {'app_url': u'/staff/recipient/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/recipient/recipientgroup/', 'object_name': 'RecipientGroup', 'name': u'Recipient groups', 'add_url': u'/staff/recipient/recipientgroup/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/recipient/recipientprofile/', 'object_name': 'RecipientProfile', 'name': u'Recipient profiles', 'add_url': u'/staff/recipient/recipientprofile/add/'}], 'has_module_perms': True, 'name': 'Recipient', 'app_label': 'recipient'}, {'app_url': u'/staff/sites/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/sites/site/', 'object_name': 'Site', 'name': u'Sites', 'add_url': u'/staff/sites/site/add/'}], 'has_module_perms': True, 'name': u'Sites', 'app_label': 'sites'}, {'app_url': u'/staff/socialaccount/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialaccount/', 'object_name': 'SocialAccount', 'name': u'Social accounts', 'add_url': u'/staff/socialaccount/socialaccount/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialtoken/', 'object_name': 'SocialToken', 'name': u'Social application tokens', 'add_url': u'/staff/socialaccount/socialtoken/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialapp/', 'object_name': 'SocialApp', 'name': u'Social applications', 'add_url': u'/staff/socialaccount/socialapp/add/'}], 'has_module_perms': True, 'name': u'Social Accounts', 'app_label': 'socialaccount'}], 'site_title': 'Badgr', 'title': u'Staff Dashboard', 'has_permission': True, 'app_list': [{'app_url': u'/staff/auth/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/auth/group/', 'object_name': 'Group', 'name': u'Groups', 'add_url': u'/staff/auth/group/add/'}], 'has_module_perms': True, 'name': u'Authentication and Authorization', 'app_label': 'auth'}, {'app_url': u'/staff/backpack/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/backpack/backpackcollection/', 'object_name': 'BackpackCollection', 'name': u'Backpack collections', 'add_url': u'/staff/backpack/backpackcollection/add/'}], 'has_module_perms': True, 'name': 'Backpack', 'app_label': 'backpack'}, {'app_url': u'/staff/badgeuser/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/badgeuser/', 'object_name': 'BadgeUser', 'name': u'Badge users', 'add_url': u'/staff/badgeuser/badgeuser/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/emailaddressvariant/', 'object_name': 'EmailAddressVariant', 'name': u'Email address variants', 'add_url': u'/staff/badgeuser/emailaddressvariant/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/cachedemailaddress/', 'object_name': 'CachedEmailAddress', 'name': u'Email addresses', 'add_url': u'/staff/badgeuser/cachedemailaddress/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/proxyemailconfirmation/', 'object_name': 'ProxyEmailConfirmation', 'name': u'Email confirmations', 'add_url': u'/staff/badgeuser/proxyemailconfirmation/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/termsversion/', 'object_name': 'TermsVersion', 'name': u'Terms versions', 'add_url': u'/staff/badgeuser/termsversion/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgeuser/userrecipientidentifier/', 'object_name': 'UserRecipientIdentifier', 'name': u'User recipient identifiers', 'add_url': u'/staff/badgeuser/userrecipientidentifier/add/'}], 'has_module_perms': True, 'name': 'Badgeuser', 'app_label': 'badgeuser'}, {'app_url': u'/staff/badgrsocialauth/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgrsocialauth/saml2account/', 'object_name': 'Saml2Account', 'name': u'Saml2 accounts', 'add_url': u'/staff/badgrsocialauth/saml2account/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/badgrsocialauth/saml2configuration/', 'object_name': 'Saml2Configuration', 'name': u'Saml2 configurations', 'add_url': u'/staff/badgrsocialauth/saml2configuration/add/'}], 'has_module_perms': True, 'name': 'Badgrsocialauth', 'app_label': 'badgrsocialauth'}, {'app_url': u'/staff/oauth2_provider/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/oauth2_provider/application/', 'object_name': 'Application', 'name': u'Applications', 'add_url': u'/staff/oauth2_provider/application/add/'}], 'has_module_perms': True, 'name': 'Django OAuth Toolkit', 'app_label': 'oauth2_provider'}, {'app_url': u'/staff/externaltools/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/externaltools/externaltool/', 'object_name': 'ExternalTool', 'name': u'External tools', 'add_url': u'/staff/externaltools/externaltool/add/'}], 'has_module_perms': True, 'name': 'Externaltools', 'app_label': 'externaltools'}, {'app_url': u'/staff/issuer/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeclassextension/', 'object_name': 'BadgeClassExtension', 'name': u'Badge class extensions', 'add_url': u'/staff/issuer/badgeclassextension/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeclass/', 'object_name': 'BadgeClass', 'name': u'Badge classes', 'add_url': u'/staff/issuer/badgeclass/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeinstanceextension/', 'object_name': 'BadgeInstanceExtension', 'name': u'Badge instance extensions', 'add_url': u'/staff/issuer/badgeinstanceextension/add/'}, {'perms': {u'add': False, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeinstance/', 'object_name': 'BadgeInstance', 'name': u'Badge instances'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/issuerextension/', 'object_name': 'IssuerExtension', 'name': u'Issuer extensions', 'add_url': u'/staff/issuer/issuerextension/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/issuer/', 'object_name': 'Issuer', 'name': u'Issuers', 'add_url': u'/staff/issuer/issuer/add/'}], 'has_module_perms': True, 'name': 'Issuer', 'app_label': 'issuer'}, {'app_url': u'/staff/mainsite/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/accesstokenproxy/', 'object_name': 'AccessTokenProxy', 'name': u'Access tokens', 'add_url': u'/staff/mainsite/accesstokenproxy/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/badgrapp/', 'object_name': 'BadgrApp', 'name': u'Badgr apps', 'add_url': u'/staff/mainsite/badgrapp/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/emailblacklist/', 'object_name': 'EmailBlacklist', 'name': u'Blacklisted emails', 'add_url': u'/staff/mainsite/emailblacklist/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/mainsite/legacytokenproxy/', 'object_name': 'LegacyTokenProxy', 'name': u'Legacy tokens', 'add_url': u'/staff/mainsite/legacytokenproxy/add/'}], 'has_module_perms': True, 'name': 'Mainsite', 'app_label': 'mainsite'}, {'app_url': u'/staff/pathway/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathwayelementbadge/', 'object_name': 'PathwayElementBadge', 'name': u'Pathway element badges', 'add_url': u'/staff/pathway/pathwayelementbadge/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathwayelement/', 'object_name': 'PathwayElement', 'name': u'Pathway elements', 'add_url': u'/staff/pathway/pathwayelement/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/pathway/pathway/', 'object_name': 'Pathway', 'name': u'Pathways', 'add_url': u'/staff/pathway/pathway/add/'}], 'has_module_perms': True, 'name': 'Pathway', 'app_label': 'pathway'}, {'app_url': u'/staff/recipient/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/recipient/recipientgroup/', 'object_name': 'RecipientGroup', 'name': u'Recipient groups', 'add_url': u'/staff/recipient/recipientgroup/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/recipient/recipientprofile/', 'object_name': 'RecipientProfile', 'name': u'Recipient profiles', 'add_url': u'/staff/recipient/recipientprofile/add/'}], 'has_module_perms': True, 'name': 'Recipient', 'app_label': 'recipient'}, {'app_url': u'/staff/sites/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/sites/site/', 'object_name': 'Site', 'name': u'Sites', 'add_url': u'/staff/sites/site/add/'}], 'has_module_perms': True, 'name': u'Sites', 'app_label': 'sites'}, {'app_url': u'/staff/socialaccount/', 'models': [{'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialaccount/', 'object_name': 'SocialAccount', 'name': u'Social accounts', 'add_url': u'/staff/socialaccount/socialaccount/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialtoken/', 'object_name': 'SocialToken', 'name': u'Social application tokens', 'add_url': u'/staff/socialaccount/socialtoken/add/'}, {'perms': {u'add': True, u'change': True, u'delete': True}, 'admin_url': u'/staff/socialaccount/socialapp/', 'object_name': 'SocialApp', 'name': u'Social applications', 'add_url': u'/staff/socialaccount/socialapp/add/'}], 'has_module_perms': True, 'name': u'Social Accounts', 'app_label': 'socialaccount'}], u'LANGUAGE_CODE': 'en-us', u'LANGUAGE_BIDI': False, 'site_url': '/'}]"
Exception while resolving variable 'add_url' in template 'admin/index.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [add_url] in u"{'perms': {u'add': False, u'change': True, u'delete': True}, 'admin_url': u'/staff/issuer/badgeinstance/', 'object_name': 'BadgeInstance', 'name': u'Badge instances'}"
(0.008) SELECT `django_admin_log`.`id`, `django_admin_log`.`action_time`, `django_admin_log`.`user_id`, `django_admin_log`.`content_type_id`, `django_admin_log`.`object_id`, `django_admin_log`.`object_repr`, `django_admin_log`.`action_flag`, `django_admin_log`.`change_message`, `users`.`id`, `users`.`password`, `users`.`last_login`, `users`.`is_superuser`, `users`.`username`, `users`.`first_name`, `users`.`last_name`, `users`.`email`, `users`.`is_staff`, `users`.`is_active`, `users`.`date_joined`, `users`.`entity_version`, `users`.`entity_id`, `users`.`badgrapp_id`, `users`.`marketing_opt_in`, `django_content_type`.`id`, `django_content_type`.`app_label`, `django_content_type`.`model` FROM `django_admin_log` INNER JOIN `users` ON (`django_admin_log`.`user_id` = `users`.`id`) LEFT OUTER JOIN `django_content_type` ON (`django_admin_log`.`content_type_id` = `django_content_type`.`id`) WHERE `django_admin_log`.`user_id` = 1 ORDER BY `django_admin_log`.`action_time` DESC LIMIT 10; args=(1,)
"GET /staff/ HTTP/1.1" 200 22396
"GET /robots.txt?1562888277950 HTTP/1.1" 301 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.003) SELECT VERSION(); args=None
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.004) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.004) SELECT VERSION(); args=None
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.004) SELECT VERSION(); args=None
(0.010) SELECT VERSION(); args=None
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.002) SELECT VERSION(); args=None
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:37:57.978428'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:37:57.978428')
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:37:57.963781'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:37:57.963781')
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:37:57.980838'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:37:57.980838')
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:37:57.975330'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:37:57.975330')
(0.003) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:37:57.983966'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:37:57.983966')
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:37:57.971844'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:37:57.971844')
"GET /static/admin/img/icon-deletelink.svg HTTP/1.1" 200 392
(0.002) SELECT (1) AS `a` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:7000' LIMIT 1; args=('localhost:7000',)
"GET /static/admin/img/icon-addlink.svg HTTP/1.1" 200 331
"GET /static/admin/img/icon-changelink.svg HTTP/1.1" 200 380
"GET /static/admin/css/dashboard.css HTTP/1.1" 200 412
(0.002) SELECT (1) AS `a` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:7000' LIMIT 1; args=('localhost:7000',)
"GET /static/admin/fonts/Roboto-Light-webfont.woff HTTP/1.1" 200 81348
"GET /static/admin/fonts/Roboto-Bold-webfont.woff HTTP/1.1" 200 82564
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.281605'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.281605')
(0.001) SELECT COUNT(*) AS `__count` FROM `badgrsocialauth_saml2configuration`; args=()
(0.001) SELECT COUNT(*) AS `__count` FROM `badgrsocialauth_saml2configuration`; args=()
(0.002) SELECT `badgrsocialauth_saml2configuration`.`id`, `badgrsocialauth_saml2configuration`.`metadata_conf_url`, `badgrsocialauth_saml2configuration`.`cached_metadata`, `badgrsocialauth_saml2configuration`.`slug` FROM `badgrsocialauth_saml2configuration` ORDER BY `badgrsocialauth_saml2configuration`.`id` DESC; args=()
Exception while resolving variable 'errors' in template 'admin/change_list.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [errors] in u'None'
Exception while resolving variable 'show' in template 'admin/change_list.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [show] in u"[{'False': False, 'None': None, 'True': True, 'csrf_token': <SimpleLazyObject: <function _get_val at 0x11272b488>>}]"
Exception while resolving variable 'is_multipart' in template 'admin/change_list.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [is_multipart] in u'None'
Exception while resolving variable 'non_field_errors' in template 'admin/change_list.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [non_field_errors] in u'None'
"GET /staff/badgrsocialauth/saml2configuration/ HTTP/1.1" 200 5087
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.003) SELECT @@SQL_AUTO_IS_NULL; args=None
"GET /robots.txt?1562888281377 HTTP/1.1" 301 0
(0.002) SELECT VERSION(); args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.003) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.002) SELECT VERSION(); args=None
(0.003) SELECT VERSION(); args=None
(0.005) SELECT VERSION(); args=None
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.366802'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.366802')
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.369842'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.369842')
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.378688'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.378688')
(0.003) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.373009'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.373009')
(0.003) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.375284'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.375284')
"GET /static/admin/css/changelists.css HTTP/1.1" 200 6170
(0.003) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.380912'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.380912')
"GET /static/admin/js/admin/RelatedObjectLookups.js HTTP/1.1" 200 6591
"GET /staff/jsi18n/ HTTP/1.1" 200 3373
"GET /static/admin/js/jquery.init.js HTTP/1.1" 200 363
"GET /static/admin/js/core.js HTTP/1.1" 200 7976
(0.003) SELECT @@SQL_AUTO_IS_NULL; args=None
"GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 200 258648
(0.002) SELECT VERSION(); args=None
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.002) SELECT VERSION(); args=None
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT VERSION(); args=None
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.416392'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.416392')
"GET /static/admin/js/actions.js HTTP/1.1" 200 6501
(0.003) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.424863'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.424863')
"GET /static/admin/js/urlify.js HTTP/1.1" 200 8186
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.431881'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.431881')
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.430636'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.430636')
"GET /static/admin/js/prepopulate.js HTTP/1.1" 200 1538
"GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 200 128820
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:01.480928'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:01.480928')
"GET /static/admin/img/tooltag-add.svg HTTP/1.1" 200 331
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:02.646853'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:02.646853')
(0.001) SELECT `badgrsocialauth_saml2configuration`.`id`, `badgrsocialauth_saml2configuration`.`metadata_conf_url`, `badgrsocialauth_saml2configuration`.`cached_metadata`, `badgrsocialauth_saml2configuration`.`slug` FROM `badgrsocialauth_saml2configuration` WHERE `badgrsocialauth_saml2configuration`.`id` = 1; args=(1,)
(0.002) SELECT `django_content_type`.`id`, `django_content_type`.`app_label`, `django_content_type`.`model` FROM `django_content_type` WHERE (`django_content_type`.`model` = 'saml2configuration' AND `django_content_type`.`app_label` = 'badgrsocialauth'); args=('saml2configuration', 'badgrsocialauth')
"GET /staff/badgrsocialauth/saml2configuration/1/change/ HTTP/1.1" 200 6770
"GET /robots.txt?1562888282742 HTTP/1.1" 301 0
(0.004) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.003) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT VERSION(); args=None
(0.003) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.003) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.002) SELECT VERSION(); args=None
(0.002) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:02.742807'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:02.742807')
(0.003) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:02.739884'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:02.739884')
(0.004) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:02.746231'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:02.746231')
"GET /static/admin/css/forms.css HTTP/1.1" 200 8173
"GET /staff/jsi18n/ HTTP/1.1" 200 3373
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:02.749080'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:02.749080')
"GET /static/admin/js/change_form.js HTTP/1.1" 200 712
"GET /static/admin/js/prepopulate_init.js HTTP/1.1" 200 495
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:02.790497'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:02.790497')
"GET /static/admin/css/widgets.css HTTP/1.1" 200 10340
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:06.092080'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:06.092080')
(0.001) SELECT `badgrsocialauth_saml2configuration`.`id`, `badgrsocialauth_saml2configuration`.`metadata_conf_url`, `badgrsocialauth_saml2configuration`.`cached_metadata`, `badgrsocialauth_saml2configuration`.`slug` FROM `badgrsocialauth_saml2configuration` WHERE `badgrsocialauth_saml2configuration`.`id` = 1; args=(1,)
(0.001) SELECT (1) AS `a` FROM `badgrsocialauth_saml2configuration` WHERE (`badgrsocialauth_saml2configuration`.`slug` = 'saml2.oktalocalcsky' AND NOT (`badgrsocialauth_saml2configuration`.`id` = 1)) LIMIT 1; args=(u'saml2.oktalocalcsky', 1)
(0.001) UPDATE `badgrsocialauth_saml2configuration` SET `metadata_conf_url` = 'https://concentricsky.okta.com/app/exkr2ls8p6wfyEY7C356/sso/saml/metadata', `cached_metadata` = '', `slug` = 'saml2.oktalocalcsky' WHERE `badgrsocialauth_saml2configuration`.`id` = 1; args=(u'https://concentricsky.okta.com/app/exkr2ls8p6wfyEY7C356/sso/saml/metadata', u'', u'saml2.oktalocalcsky', 1)
(0.004) INSERT INTO `django_admin_log` (`action_time`, `user_id`, `content_type_id`, `object_id`, `object_repr`, `action_flag`, `change_message`) VALUES ('2019-07-11 23:38:06.362763', 1, 56, '1', 'saml2.oktalocalcsky', 2, '[{\"changed\": {\"fields\": [\"slug\"]}}]'); args=[u'2019-07-11 23:38:06.362763', 1, 56, u'1', u'saml2.oktalocalcsky', 2, '[{"changed": {"fields": ["slug"]}}]']
(0.001) SELECT (1) AS `a` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:7000' LIMIT 1; args=('localhost:7000',)
"POST /staff/badgrsocialauth/saml2configuration/1/change/ HTTP/1.1" 302 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:06.376388'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:06.376388')
(0.001) SELECT COUNT(*) AS `__count` FROM `badgrsocialauth_saml2configuration`; args=()
(0.001) SELECT COUNT(*) AS `__count` FROM `badgrsocialauth_saml2configuration`; args=()
(0.001) SELECT `badgrsocialauth_saml2configuration`.`id`, `badgrsocialauth_saml2configuration`.`metadata_conf_url`, `badgrsocialauth_saml2configuration`.`cached_metadata`, `badgrsocialauth_saml2configuration`.`slug` FROM `badgrsocialauth_saml2configuration` ORDER BY `badgrsocialauth_saml2configuration`.`id` DESC; args=()
Exception while resolving variable 'errors' in template 'admin/change_list.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [errors] in u'None'
Exception while resolving variable 'show' in template 'admin/change_list.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [show] in u"[{'False': False, 'None': None, 'True': True, 'csrf_token': <SimpleLazyObject: <function _get_val at 0x11263d578>>}]"
Exception while resolving variable 'is_multipart' in template 'admin/change_list.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [is_multipart] in u'None'
Exception while resolving variable 'non_field_errors' in template 'admin/change_list.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [non_field_errors] in u'None'
"GET /staff/badgrsocialauth/saml2configuration/ HTTP/1.1" 200 5330
"GET /robots.txt?1562888286444 HTTP/1.1" 301 0
"GET /robots.txt?1562888286445 HTTP/1.1" 301 0
(0.002) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:06.443019'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:06.443019')
"GET /staff/jsi18n/ HTTP/1.1" 200 3373
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.002) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:06.485937'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:06.485937')
"GET /static/admin/img/icon-yes.svg HTTP/1.1" 200 436
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77' AND `django_session`.`expire_date` > '2019-07-11 23:38:10.917807'); args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77', u'2019-07-11 23:38:10.917807')
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE `django_session`.`session_key` = '2nuvi9tptd0zic2dbcg43bsuw66ecg77'; args=('2nuvi9tptd0zic2dbcg43bsuw66ecg77',)
(0.003) DELETE FROM `django_session` WHERE `django_session`.`session_key` IN ('2nuvi9tptd0zic2dbcg43bsuw66ecg77'); args=(u'2nuvi9tptd0zic2dbcg43bsuw66ecg77',)
(0.001) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:4220'; args=('localhost:4220',)
(0.001) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`id` = 1; args=(1,)
(0.001) SELECT (1) AS `a` FROM `django_session` WHERE `django_session`.`session_key` = 'p8a3wlvhysjseqp2kcprdrjxpojzdblc' LIMIT 1; args=(u'p8a3wlvhysjseqp2kcprdrjxpojzdblc',)
(0.001) INSERT INTO `django_session` (`session_key`, `session_data`, `expire_date`) VALUES ('p8a3wlvhysjseqp2kcprdrjxpojzdblc', 'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', '2019-07-25 23:38:10.956388'); args=(u'p8a3wlvhysjseqp2kcprdrjxpojzdblc', u'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', u'2019-07-25 23:38:10.956388')
"GET /account/sociallogin?provider=saml2.oktalocalcsky HTTP/1.1" 302 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'p8a3wlvhysjseqp2kcprdrjxpojzdblc' AND `django_session`.`expire_date` > '2019-07-11 23:38:10.962554'); args=('p8a3wlvhysjseqp2kcprdrjxpojzdblc', u'2019-07-11 23:38:10.962554')
(0.001) SELECT `badgrsocialauth_saml2configuration`.`id`, `badgrsocialauth_saml2configuration`.`metadata_conf_url`, `badgrsocialauth_saml2configuration`.`cached_metadata`, `badgrsocialauth_saml2configuration`.`slug` FROM `badgrsocialauth_saml2configuration` WHERE `badgrsocialauth_saml2configuration`.`slug` = 'saml2.oktalocalcsky'; args=(u'saml2.oktalocalcsky',)
(0.001) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:4220'; args=('localhost:4220',)
(0.001) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`id` = 1; args=(1,)
(0.001) UPDATE `django_session` SET `session_data` = 'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', `expire_date` = '2019-07-25 23:38:11.206711' WHERE `django_session`.`session_key` = 'p8a3wlvhysjseqp2kcprdrjxpojzdblc'; args=(u'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', u'2019-07-25 23:38:11.206711', 'p8a3wlvhysjseqp2kcprdrjxpojzdblc')
"GET /saml2/saml2.oktalocalcsky/ HTTP/1.1" 302 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'p8a3wlvhysjseqp2kcprdrjxpojzdblc' AND `django_session`.`expire_date` > '2019-07-11 23:38:11.349632'); args=('p8a3wlvhysjseqp2kcprdrjxpojzdblc', u'2019-07-11 23:38:11.349632')
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE `django_session`.`session_key` = 'p8a3wlvhysjseqp2kcprdrjxpojzdblc'; args=('p8a3wlvhysjseqp2kcprdrjxpojzdblc',)
(0.001) DELETE FROM `django_session` WHERE `django_session`.`session_key` IN ('p8a3wlvhysjseqp2kcprdrjxpojzdblc'); args=(u'p8a3wlvhysjseqp2kcprdrjxpojzdblc',)
(0.001) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:4220'; args=('localhost:4220',)
(0.001) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`id` = 1; args=(1,)
(0.001) SELECT (1) AS `a` FROM `django_session` WHERE `django_session`.`session_key` = 'tdycrl65j29rwp3zifeaioo67fwadxwt' LIMIT 1; args=(u'tdycrl65j29rwp3zifeaioo67fwadxwt',)
(0.001) INSERT INTO `django_session` (`session_key`, `session_data`, `expire_date`) VALUES ('tdycrl65j29rwp3zifeaioo67fwadxwt', 'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', '2019-07-25 23:38:11.381443'); args=(u'tdycrl65j29rwp3zifeaioo67fwadxwt', u'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', u'2019-07-25 23:38:11.381443')
"GET /account/sociallogin?provider=saml2.oktalocalcsky HTTP/1.1" 302 0
"GET /robots.txt?1562888291388 HTTP/1.1" 301 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'tdycrl65j29rwp3zifeaioo67fwadxwt' AND `django_session`.`expire_date` > '2019-07-11 23:38:11.390350'); args=('tdycrl65j29rwp3zifeaioo67fwadxwt', u'2019-07-11 23:38:11.390350')
(0.001) SELECT `badgrsocialauth_saml2configuration`.`id`, `badgrsocialauth_saml2configuration`.`metadata_conf_url`, `badgrsocialauth_saml2configuration`.`cached_metadata`, `badgrsocialauth_saml2configuration`.`slug` FROM `badgrsocialauth_saml2configuration` WHERE `badgrsocialauth_saml2configuration`.`slug` = 'saml2.oktalocalcsky'; args=(u'saml2.oktalocalcsky',)
(0.003) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:4220'; args=('localhost:4220',)
(0.002) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`id` = 1; args=(1,)
(0.001) UPDATE `django_session` SET `session_data` = 'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', `expire_date` = '2019-07-25 23:38:11.541219' WHERE `django_session`.`session_key` = 'tdycrl65j29rwp3zifeaioo67fwadxwt'; args=(u'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', u'2019-07-25 23:38:11.541219', 'tdycrl65j29rwp3zifeaioo67fwadxwt')
"GET /saml2/saml2.oktalocalcsky/ HTTP/1.1" 302 0
"GET /robots.txt?1562888292153 HTTP/1.1" 301 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'tdycrl65j29rwp3zifeaioo67fwadxwt' AND `django_session`.`expire_date` > '2019-07-11 23:38:12.275161'); args=('tdycrl65j29rwp3zifeaioo67fwadxwt', u'2019-07-11 23:38:12.275161')
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'oauth2_provider.urls' from '/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/oauth2_provider/urls.pyc'> (oauth2_provider:oauth2_provider) ^o/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u'<RegexURLResolver <RegexURLPattern list> (admin:badgradmin) ^staff/>'
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'health.urls' from '/Users/nnichols/code/csky/badgr-server/apps/health/urls.pyc'> (None:None) ^health>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'apispec_drf.urls' from '/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/apispec_drf/urls.pyc'> (None:None) ^docs/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrlog.urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrlog/urls.pyc'> (None:None) ^json-ld/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.public_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/public_api_urls.pyc'> (None:None) ^public/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'pathway.public_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/pathway/public_api_urls.pyc'> (None:None) ^public/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrsocialauth.redirect_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/redirect_urls.pyc'> (None:None) ^account/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgeuser.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgeuser/v1_api_urls.pyc'> (None:None) ^v1/user/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrsocialauth.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/v1_api_urls.pyc'> (None:None) ^v1/user/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/v1_api_urls.pyc'> (None:None) ^v1/issuer/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'backpack.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/backpack/v1_api_urls.pyc'> (None:None) ^v1/earner/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'pathway.api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/pathway/api_urls.pyc'> (None:None) ^v2/issuers/(?P<issuer_slug>[^/]+)/pathways/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'recipient.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/recipient/v1_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/v2_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgeuser.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgeuser/v2_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'backpack.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/backpack/v2_api_urls.pyc'> (None:None) ^v2/backpack/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'externaltools.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/externaltools/v1_api_urls.pyc'> (None:None) ^v1/externaltools/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'externaltools.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/externaltools/v2_api_urls.pyc'> (None:None) ^v2/externaltools/>"
(0.001) SELECT (1) AS `a` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = '' LIMIT 1; args=('',)
Not Found: /okta/local/acs/
"POST /okta/local/acs/ HTTP/1.1" 404 8208
"GET /robots.txt?1562888292396 HTTP/1.1" 301 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'tdycrl65j29rwp3zifeaioo67fwadxwt' AND `django_session`.`expire_date` > '2019-07-11 23:38:19.429706'); args=('tdycrl65j29rwp3zifeaioo67fwadxwt', u'2019-07-11 23:38:19.429706')
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'oauth2_provider.urls' from '/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/oauth2_provider/urls.pyc'> (oauth2_provider:oauth2_provider) ^o/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u'<RegexURLResolver <RegexURLPattern list> (admin:badgradmin) ^staff/>'
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'health.urls' from '/Users/nnichols/code/csky/badgr-server/apps/health/urls.pyc'> (None:None) ^health>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'apispec_drf.urls' from '/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/apispec_drf/urls.pyc'> (None:None) ^docs/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrlog.urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrlog/urls.pyc'> (None:None) ^json-ld/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.public_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/public_api_urls.pyc'> (None:None) ^public/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'pathway.public_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/pathway/public_api_urls.pyc'> (None:None) ^public/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrsocialauth.redirect_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/redirect_urls.pyc'> (None:None) ^account/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgeuser.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgeuser/v1_api_urls.pyc'> (None:None) ^v1/user/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrsocialauth.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/v1_api_urls.pyc'> (None:None) ^v1/user/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/v1_api_urls.pyc'> (None:None) ^v1/issuer/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'backpack.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/backpack/v1_api_urls.pyc'> (None:None) ^v1/earner/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'pathway.api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/pathway/api_urls.pyc'> (None:None) ^v2/issuers/(?P<issuer_slug>[^/]+)/pathways/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'recipient.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/recipient/v1_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/v2_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgeuser.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgeuser/v2_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'backpack.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/backpack/v2_api_urls.pyc'> (None:None) ^v2/backpack/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'externaltools.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/externaltools/v1_api_urls.pyc'> (None:None) ^v1/externaltools/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'externaltools.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/externaltools/v2_api_urls.pyc'> (None:None) ^v2/externaltools/>"
Not Found: /okta/saml2.oktalocalcsky/acs/
"GET /okta/saml2.oktalocalcsky/acs/ HTTP/1.1" 404 8249
"GET /robots.txt?1562888299472 HTTP/1.1" 301 0
"GET /robots.txt?1562888304577 HTTP/1.1" 301 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'tdycrl65j29rwp3zifeaioo67fwadxwt' AND `django_session`.`expire_date` > '2019-07-11 23:38:39.149628'); args=('tdycrl65j29rwp3zifeaioo67fwadxwt', u'2019-07-11 23:38:39.149628')
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE `django_session`.`session_key` = 'tdycrl65j29rwp3zifeaioo67fwadxwt'; args=('tdycrl65j29rwp3zifeaioo67fwadxwt',)
(0.001) DELETE FROM `django_session` WHERE `django_session`.`session_key` IN ('tdycrl65j29rwp3zifeaioo67fwadxwt'); args=(u'tdycrl65j29rwp3zifeaioo67fwadxwt',)
(0.001) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:4220'; args=('localhost:4220',)
(0.001) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`id` = 1; args=(1,)
(0.001) SELECT (1) AS `a` FROM `django_session` WHERE `django_session`.`session_key` = 'mr0gnsib3lqklcf4z1dlpkuc88zs1ssf' LIMIT 1; args=(u'mr0gnsib3lqklcf4z1dlpkuc88zs1ssf',)
(0.001) INSERT INTO `django_session` (`session_key`, `session_data`, `expire_date`) VALUES ('mr0gnsib3lqklcf4z1dlpkuc88zs1ssf', 'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', '2019-07-25 23:38:39.188904'); args=(u'mr0gnsib3lqklcf4z1dlpkuc88zs1ssf', u'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', u'2019-07-25 23:38:39.188904')
"GET /account/sociallogin?provider=saml2.oktalocalcsky HTTP/1.1" 302 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.001) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'mr0gnsib3lqklcf4z1dlpkuc88zs1ssf' AND `django_session`.`expire_date` > '2019-07-11 23:38:39.197851'); args=('mr0gnsib3lqklcf4z1dlpkuc88zs1ssf', u'2019-07-11 23:38:39.197851')
(0.001) SELECT `badgrsocialauth_saml2configuration`.`id`, `badgrsocialauth_saml2configuration`.`metadata_conf_url`, `badgrsocialauth_saml2configuration`.`cached_metadata`, `badgrsocialauth_saml2configuration`.`slug` FROM `badgrsocialauth_saml2configuration` WHERE `badgrsocialauth_saml2configuration`.`slug` = 'saml2.oktalocalcsky'; args=(u'saml2.oktalocalcsky',)
(0.002) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = 'localhost:4220'; args=('localhost:4220',)
(0.001) SELECT `mainsite_badgrapp`.`id`, `mainsite_badgrapp`.`created_by_id`, `mainsite_badgrapp`.`updated_by_id`, `mainsite_badgrapp`.`created_at`, `mainsite_badgrapp`.`updated_at`, `mainsite_badgrapp`.`is_active`, `mainsite_badgrapp`.`name`, `mainsite_badgrapp`.`cors`, `mainsite_badgrapp`.`email_confirmation_redirect`, `mainsite_badgrapp`.`signup_redirect`, `mainsite_badgrapp`.`forgot_password_redirect`, `mainsite_badgrapp`.`ui_login_redirect`, `mainsite_badgrapp`.`ui_signup_success_redirect`, `mainsite_badgrapp`.`ui_connect_success_redirect`, `mainsite_badgrapp`.`public_pages_redirect`, `mainsite_badgrapp`.`oauth_authorization_redirect`, `mainsite_badgrapp`.`use_auth_code_exchange`, `mainsite_badgrapp`.`oauth_application_id` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`id` = 1; args=(1,)
(0.001) UPDATE `django_session` SET `session_data` = 'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', `expire_date` = '2019-07-25 23:38:39.405000' WHERE `django_session`.`session_key` = 'mr0gnsib3lqklcf4z1dlpkuc88zs1ssf'; args=(u'NzQ3ZGMxMDM4OTdjNTdiY2I2ZGVhYTNkYmIzNjcxMjFiMjgxOGY5ZTp7InNvdXJjZSI6bnVsbCwiYmFkZ3JfYXBwX3BrIjoxfQ==', u'2019-07-25 23:38:39.405000', 'mr0gnsib3lqklcf4z1dlpkuc88zs1ssf')
"GET /saml2/saml2.oktalocalcsky/ HTTP/1.1" 302 0
"GET /robots.txt?1562888319952 HTTP/1.1" 301 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.002) SELECT `django_session`.`session_key`, `django_session`.`session_data`, `django_session`.`expire_date` FROM `django_session` WHERE (`django_session`.`session_key` = 'mr0gnsib3lqklcf4z1dlpkuc88zs1ssf' AND `django_session`.`expire_date` > '2019-07-11 23:38:40.076668'); args=('mr0gnsib3lqklcf4z1dlpkuc88zs1ssf', u'2019-07-11 23:38:40.076668')
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'oauth2_provider.urls' from '/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/oauth2_provider/urls.pyc'> (oauth2_provider:oauth2_provider) ^o/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u'<RegexURLResolver <RegexURLPattern list> (admin:badgradmin) ^staff/>'
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'health.urls' from '/Users/nnichols/code/csky/badgr-server/apps/health/urls.pyc'> (None:None) ^health>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'apispec_drf.urls' from '/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/apispec_drf/urls.pyc'> (None:None) ^docs/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrlog.urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrlog/urls.pyc'> (None:None) ^json-ld/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.public_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/public_api_urls.pyc'> (None:None) ^public/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'pathway.public_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/pathway/public_api_urls.pyc'> (None:None) ^public/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrsocialauth.redirect_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/redirect_urls.pyc'> (None:None) ^account/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgeuser.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgeuser/v1_api_urls.pyc'> (None:None) ^v1/user/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgrsocialauth.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgrsocialauth/v1_api_urls.pyc'> (None:None) ^v1/user/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/v1_api_urls.pyc'> (None:None) ^v1/issuer/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'backpack.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/backpack/v1_api_urls.pyc'> (None:None) ^v1/earner/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'pathway.api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/pathway/api_urls.pyc'> (None:None) ^v2/issuers/(?P<issuer_slug>[^/]+)/pathways/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'recipient.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/recipient/v1_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'issuer.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/issuer/v2_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'badgeuser.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/badgeuser/v2_api_urls.pyc'> (None:None) ^v2/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'backpack.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/backpack/v2_api_urls.pyc'> (None:None) ^v2/backpack/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'externaltools.v1_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/externaltools/v1_api_urls.pyc'> (None:None) ^v1/externaltools/>"
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [name] in u"<RegexURLResolver <module 'externaltools.v2_api_urls' from '/Users/nnichols/code/csky/badgr-server/apps/externaltools/v2_api_urls.pyc'> (None:None) ^v2/externaltools/>"
(0.002) SELECT (1) AS `a` FROM `mainsite_badgrapp` WHERE `mainsite_badgrapp`.`cors` = '' LIMIT 1; args=('',)
Not Found: /okta/local/acs/
"POST /okta/local/acs/ HTTP/1.1" 404 8208
"GET /robots.txt?1562888320173 HTTP/1.1" 301 0
(0.001) SELECT @@SQL_AUTO_IS_NULL; args=None
(0.001) SELECT VERSION(); args=None
(0.006) SHOW FULL TABLES; args=None
(0.001) SELECT `django_migrations`.`app`, `django_migrations`.`name` FROM `django_migrations`; args=()
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 23:50:58.698480'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 23:50:59.019176'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:06.031234'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:51:06.638101'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:08.565853'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:08.690572'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:08.744478'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:08.795893'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:08.847522'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:08.896136'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:08.957493'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:09.028384'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:51:11.819749'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:51:11.861874'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:51:13.856664'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:51:13.894402'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 23:51:14.219476'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 23:51:14.297281'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:14.595003'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:14.688880'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:14.776981'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:51:15.833769'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:51:15.873471'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:51:15.907336'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:51:21.290474'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:51:21.479303'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/VGfMtsfhSr6OC0ZrVBqRNA', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563493886/8064adb88f8c9ee861546cd7e2463417fb73ffba?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/48SbFe9STvqSxno9dUVURw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/VGfMtsfhSr6OC0ZrVBqRNA?action=download', u'site_url': u'', u'badge_id': u'VGfMtsfhSr6OC0ZrVBqRNA', u'image_url': u'http://localhost:8000/public/assertions/VGfMtsfhSr6OC0ZrVBqRNA/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/VGfMtsfhSr6OC0ZrVBqRNA\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563493886/8064adb88f8c9ee861546cd7e2463417fb73ffba?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/48SbFe9STvqSxno9dUVURw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/VGfMtsfhSr6OC0ZrVBqRNA?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'VGfMtsfhSr6OC0ZrVBqRNA\', u\'image_url\': u\'http://localhost:8000/public/assertions/VGfMtsfhSr6OC0ZrVBqRNA/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111a3f7d0>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x111a3f350>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111a3f5d0>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x111a3fc10>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111a3fe90>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x111a3fa50>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111925b50>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x10ff60590>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/VGfMtsfhSr6OC0ZrVBqRNA', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563493886/8064adb88f8c9ee861546cd7e2463417fb73ffba?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/48SbFe9STvqSxno9dUVURw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/VGfMtsfhSr6OC0ZrVBqRNA?action=download', u'site_url': u'', u'badge_id': u'VGfMtsfhSr6OC0ZrVBqRNA', u'image_url': u'http://localhost:8000/public/assertions/VGfMtsfhSr6OC0ZrVBqRNA/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/Xkelnv0WR8e57Coj7soI6g', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563493891/fc0334467bfed4910bb4e438121e10d7857e99c5?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/48SbFe9STvqSxno9dUVURw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/Xkelnv0WR8e57Coj7soI6g?action=download', u'site_url': u'', u'badge_id': u'Xkelnv0WR8e57Coj7soI6g', u'image_url': u'http://localhost:8000/public/assertions/Xkelnv0WR8e57Coj7soI6g/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/Xkelnv0WR8e57Coj7soI6g\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563493891/fc0334467bfed4910bb4e438121e10d7857e99c5?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/48SbFe9STvqSxno9dUVURw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/Xkelnv0WR8e57Coj7soI6g?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'Xkelnv0WR8e57Coj7soI6g\', u\'image_url\': u\'http://localhost:8000/public/assertions/Xkelnv0WR8e57Coj7soI6g/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111a3f510>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x112d7c210>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111980ed0>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x111980bd0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111980b10>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x111980290>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111980350>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x111980150>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/Xkelnv0WR8e57Coj7soI6g', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563493891/fc0334467bfed4910bb4e438121e10d7857e99c5?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/48SbFe9STvqSxno9dUVURw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/Xkelnv0WR8e57Coj7soI6g?action=download', u'site_url': u'', u'badge_id': u'Xkelnv0WR8e57Coj7soI6g', u'image_url': u'http://localhost:8000/public/assertions/Xkelnv0WR8e57Coj7soI6g/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/zyXj1zFuT7i9uhYtnoptcg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/b3RoZXJyZWNpcGllbnQxQGV4YW1wbGUuY29t/1563493891/c80b0b5f4d111af2deff656d37643aaec9b5a198?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/48SbFe9STvqSxno9dUVURw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/zyXj1zFuT7i9uhYtnoptcg?action=download', u'site_url': u'', u'badge_id': u'zyXj1zFuT7i9uhYtnoptcg', u'image_url': u'http://localhost:8000/public/assertions/zyXj1zFuT7i9uhYtnoptcg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/zyXj1zFuT7i9uhYtnoptcg\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/b3RoZXJyZWNpcGllbnQxQGV4YW1wbGUuY29t/1563493891/c80b0b5f4d111af2deff656d37643aaec9b5a198?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/48SbFe9STvqSxno9dUVURw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/zyXj1zFuT7i9uhYtnoptcg?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'zyXj1zFuT7i9uhYtnoptcg\', u\'image_url\': u\'http://localhost:8000/public/assertions/zyXj1zFuT7i9uhYtnoptcg/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111925fd0>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x111925d50>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111925110>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x111925490>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111925c10>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x111a3fa50>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111a3f150>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x111a3f6d0>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/zyXj1zFuT7i9uhYtnoptcg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/b3RoZXJyZWNpcGllbnQxQGV4YW1wbGUuY29t/1563493891/c80b0b5f4d111af2deff656d37643aaec9b5a198?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/48SbFe9STvqSxno9dUVURw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/zyXj1zFuT7i9uhYtnoptcg?action=download', u'site_url': u'', u'badge_id': u'zyXj1zFuT7i9uhYtnoptcg', u'image_url': u'http://localhost:8000/public/assertions/zyXj1zFuT7i9uhYtnoptcg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/7AoS3wp1Tbes6SZoKBtpzg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563493894/150ed51cf40e3c595feeeec04a37c15f5e38dd4b?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/4QBoUNZ9QvubRv5mej9PIw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/7AoS3wp1Tbes6SZoKBtpzg?action=download', u'site_url': u'', u'badge_id': u'7AoS3wp1Tbes6SZoKBtpzg', u'image_url': u'http://localhost:8000/public/assertions/7AoS3wp1Tbes6SZoKBtpzg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/7AoS3wp1Tbes6SZoKBtpzg\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563493894/150ed51cf40e3c595feeeec04a37c15f5e38dd4b?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/4QBoUNZ9QvubRv5mej9PIw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/7AoS3wp1Tbes6SZoKBtpzg?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'7AoS3wp1Tbes6SZoKBtpzg\', u\'image_url\': u\'http://localhost:8000/public/assertions/7AoS3wp1Tbes6SZoKBtpzg/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111886910>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x111886150>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1118868d0>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x1118860d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111886b10>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x111886310>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1119bb450>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x1119bb410>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/7AoS3wp1Tbes6SZoKBtpzg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563493894/150ed51cf40e3c595feeeec04a37c15f5e38dd4b?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/4QBoUNZ9QvubRv5mej9PIw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/7AoS3wp1Tbes6SZoKBtpzg?action=download', u'site_url': u'', u'badge_id': u'7AoS3wp1Tbes6SZoKBtpzg', u'image_url': u'http://localhost:8000/public/assertions/7AoS3wp1Tbes6SZoKBtpzg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/L2NLvy_gRY-jSi09xNQESg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563493895/b16ee6b68b529b37869e2bcd16b5d23e507e2bb2?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/4QBoUNZ9QvubRv5mej9PIw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/L2NLvy_gRY-jSi09xNQESg?action=download', u'site_url': u'', u'badge_id': u'L2NLvy_gRY-jSi09xNQESg', u'image_url': u'http://localhost:8000/public/assertions/L2NLvy_gRY-jSi09xNQESg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/L2NLvy_gRY-jSi09xNQESg\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563493895/b16ee6b68b529b37869e2bcd16b5d23e507e2bb2?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/4QBoUNZ9QvubRv5mej9PIw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/L2NLvy_gRY-jSi09xNQESg?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'L2NLvy_gRY-jSi09xNQESg\', u\'image_url\': u\'http://localhost:8000/public/assertions/L2NLvy_gRY-jSi09xNQESg/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111ad5a90>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x111886710>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111886b90>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x111886090>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111886fd0>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x111886590>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111886d50>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x111995450>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/L2NLvy_gRY-jSi09xNQESg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563493895/b16ee6b68b529b37869e2bcd16b5d23e507e2bb2?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/4QBoUNZ9QvubRv5mej9PIw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/L2NLvy_gRY-jSi09xNQESg?action=download', u'site_url': u'', u'badge_id': u'L2NLvy_gRY-jSi09xNQESg', u'image_url': u'http://localhost:8000/public/assertions/L2NLvy_gRY-jSi09xNQESg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
Not Found: /v2/assertions/changed
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/WcQbq6tHTAuADX_VwLZqPg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563493898/09436138ee441cf3e3f831b9c0f4c1d69ec63240?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/IKhXC3vNRnCV4i76NustLQ', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/WcQbq6tHTAuADX_VwLZqPg?action=download', u'site_url': u'', u'badge_id': u'WcQbq6tHTAuADX_VwLZqPg', u'image_url': u'http://localhost:8000/public/assertions/WcQbq6tHTAuADX_VwLZqPg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/WcQbq6tHTAuADX_VwLZqPg\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563493898/09436138ee441cf3e3f831b9c0f4c1d69ec63240?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Giver\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/IKhXC3vNRnCV4i76NustLQ\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/WcQbq6tHTAuADX_VwLZqPg?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'WcQbq6tHTAuADX_VwLZqPg\', u\'image_url\': u\'http://localhost:8000/public/assertions/WcQbq6tHTAuADX_VwLZqPg/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x112185150>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x111a59250>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x111a59f90>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x111a59b10>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1118197d0>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x111819910>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1118194d0>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x111819090>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/WcQbq6tHTAuADX_VwLZqPg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563493898/09436138ee441cf3e3f831b9c0f4c1d69ec63240?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/IKhXC3vNRnCV4i76NustLQ', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/WcQbq6tHTAuADX_VwLZqPg?action=download', u'site_url': u'', u'badge_id': u'WcQbq6tHTAuADX_VwLZqPg', u'image_url': u'http://localhost:8000/public/assertions/WcQbq6tHTAuADX_VwLZqPg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7fdcf5839620>', u'issuer_image_url': None}]"
CREATE TABLE `django_migrations` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
CREATE TABLE `corsheaders_corsmodel` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `cors` varchar(255) NOT NULL); (params None)
CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE `auth_group_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
CREATE TABLE `users` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
CREATE TABLE `users_groups` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
CREATE TABLE `users_user_permissions` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeuser_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_group_id_5ee546fb_uniq` UNIQUE (`badgeuser_id`, `group_id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_3e8a9166_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissio_permission_id_6d08dcd2_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
ALTER TABLE `users_user_permissions` ADD CONSTRAINT `users_user_permissions_badgeuser_id_permission_id_3492fb2d_uniq` UNIQUE (`badgeuser_id`, `permission_id`); (params ())
CREATE TABLE `account_emailaddress` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE, `verified` bool NOT NULL, `primary` bool NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `account_emailconfirmation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `sent` datetime(6) NULL, `key` varchar(64) NOT NULL UNIQUE, `email_address_id` integer NOT NULL); (params None)
ALTER TABLE `account_emailaddress` ADD CONSTRAINT `account_emailaddress_user_id_2c513194_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `account_emailconfirmation` ADD CONSTRAINT `account_emailconfirm_email_address_id_5b7f8c58_fk_account_e` FOREIGN KEY (`email_address_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `account_emailaddress` MODIFY `email` varchar(254) NOT NULL; (params [])
CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL, `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` SET DEFAULT %s; (params [u'2019-07-11 23:53:49.358239'])
ALTER TABLE `django_admin_log` ALTER COLUMN `action_time` DROP DEFAULT; (params ())
ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
CREATE TABLE `authtoken_token` (`key` varchar(40) NOT NULL PRIMARY KEY, `created` datetime(6) NOT NULL, `user_id` integer NOT NULL UNIQUE); (params None)
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `authtoken_token` ALTER COLUMN `created` SET DEFAULT %s; (params [u'2019-07-11 23:53:49.737820'])
ALTER TABLE `authtoken_token` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `authtoken_token` DROP FOREIGN KEY `authtoken_token_user_id_35299eff_fk_users_id`; (params ())
ALTER TABLE `authtoken_token` ADD CONSTRAINT `authtoken_token_user_id_35299eff_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `issuer_badgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_badgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NOT NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `issuer_issuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `image` varchar(100) NOT NULL, `created_by_id` integer NULL, `owner_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerstaff` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `editor` bool NOT NULL, `badgeuser_id` integer NOT NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_created_by_id_46b30d08_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_created_by_id_8ca41a27_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_created_by_id_1423f4f0_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_e6586d0f_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` DROP FOREIGN KEY `issuer_issuerstaff_badgeuser_id_9babf254_fk_users_id`; (params ())
ALTER TABLE `issuer_issuerstaff` CHANGE `badgeuser_id` `user_id` integer NOT NULL; (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_user_id_572af7a6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuerstaff` ADD CONSTRAINT `issuer_issuerstaff_issuer_id_user_id_8ab3a821_uniq` UNIQUE (`issuer_id`, `user_id`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_issuer_id_436ecba7_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_issuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_owner_id_10977f15_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `issuer_badgeclass` DROP FOREIGN KEY `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id`; (params ())
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_issuer_id_0b4cacb8_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP FOREIGN KEY `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba`; (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_badgeclass_id_62fb47fa_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `acceptance` varchar(254) DEFAULT %s NOT NULL; (params ['Accepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` SET DEFAULT %s; (params ['Unaccepted'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `acceptance` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeinstance` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_issuer` CHANGE `json` `old_json` longtext NOT NULL; (params ())
ALTER TABLE `issuer_badgeclass` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `identifier`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `criteria_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `evidence_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `salt` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `description` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `email` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuerstaff` ADD COLUMN `role` varchar(254) DEFAULT %s NOT NULL; (params [u'staff'])
ALTER TABLE `issuer_issuerstaff` ALTER COLUMN `role` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` DROP FOREIGN KEY `issuer_issuer_owner_id_10977f15_fk_users_id`; (params ())
ALTER TABLE `issuer_issuer` DROP COLUMN `owner_id`; (params ())
ALTER TABLE `issuer_issuerstaff` DROP COLUMN `editor`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `original_json` longtext NULL; (params [])
CREATE TABLE `issuer_badgeinstanceevidence` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `evidence_url` varchar(2083) NOT NULL, `narrative` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `narrative` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5d069298_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` DROP COLUMN `evidence_url`; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `issuer_issuer` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeclass` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_badgeinstance` MODIFY `slug` varchar(255) NULL; (params [])
ALTER TABLE `issuer_issuer` DROP INDEX `slug`; (params ())
ALTER TABLE `issuer_issuer` MODIFY `slug` varchar(255) NULL; (params [])
CREATE TABLE `composition_collection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(128) NOT NULL, `slug` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL); (params None)
CREATE TABLE `composition_collectionpermission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `can_write` bool NOT NULL, `collection_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeclass` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `criteria_text` longtext NULL, `image` varchar(100) NOT NULL, `name` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `email` varchar(255) NOT NULL, `image` varchar(100) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `revoked` bool NOT NULL, `revocation_reason` varchar(255) NULL, `badgeclass_id` integer NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `composition_localbadgeinstancecollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `description` longtext NOT NULL, `collection_id` integer NOT NULL, `instance_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localissuer` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `json` longtext NOT NULL, `image` varchar(100) NOT NULL, `name` varchar(1024) NOT NULL, `slug` varchar(255) NOT NULL UNIQUE, `created_by_id` integer NULL); (params None)
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq` UNIQUE (`instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_user_id` integer NOT NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `issuer_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpe_user_id_collection_id_6c493f1e_uniq` UNIQUE (`user_id`, `collection_id`); (params ())
ALTER TABLE `composition_collection` ADD COLUMN `owner_id` integer NOT NULL; (params [])
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_slug_72096ce8_uniq` UNIQUE (`owner_id`, `slug`); (params ())
CREATE INDEX `composition_collection_slug_f7b659ce` ON `composition_collection` (`slug`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collecti_collection_id_b360b435_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_collectionpermission` ADD CONSTRAINT `composition_collectionpermission_user_id_61259751_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi` FOREIGN KEY (`badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_created_by_id_b77977ad_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localissuer` ADD CONSTRAINT `composition_localissuer_created_by_id_f30fbba7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_id_04905f6e_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbadg_recipient_user_id_9c212f45_fk_users_id` FOREIGN KEY (`recipient_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD CONSTRAINT `composition_localbad_issuer_id_96decf71_fk_compositi` FOREIGN KEY (`issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_collection` ADD CONSTRAINT `composition_collection_owner_id_370578d9_fk_users_id` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeclass` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` ADD COLUMN `identifier` varchar(1024) DEFAULT %s NOT NULL; (params ['get_full_url'])
ALTER TABLE `composition_localissuer` ALTER COLUMN `identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `email`; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `recipient_identifier` varchar(1024) DEFAULT %s NOT NULL; (params [u''])
ALTER TABLE `composition_localbadgeinstance` ALTER COLUMN `recipient_identifier` DROP DEFAULT; (params ())
ALTER TABLE `composition_localissuer` MODIFY `image` varchar(100) NULL; (params [])
ALTER TABLE `composition_localbadgeclass` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localissuer` ADD COLUMN `image_preview_status` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD COLUMN `issuer_instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_collection_id_fc149482_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` MODIFY `instance_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_instance_id_e3a6fa99_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
CREATE INDEX `composition_localbadgeinstancecollection_instance_id_e3a6fa99` ON `composition_localbadgeinstancecollection` (`instance_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_collection_i_dc1e05c6_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq` UNIQUE (`instance_id`, `issuer_instance_id`, `collection_id`); (params ())
ALTER TABLE `composition_localbadgeinstancecollection` ADD CONSTRAINT `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
CREATE TABLE `composition_collectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `composition_localbadgeinstanceshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `instance_id` integer NULL, `issuer_instance_id` integer NULL); (params None)
ALTER TABLE `composition_collectionshare` ADD CONSTRAINT `composition_collecti_collection_id_72ccde0a_fk_compositi` FOREIGN KEY (`collection_id`) REFERENCES `composition_collection` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_instance_id_7a9d3973_fk_compositi` FOREIGN KEY (`instance_id`) REFERENCES `composition_localbadgeinstance` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstanceshare` ADD CONSTRAINT `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba` FOREIGN KEY (`issuer_instance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
UPDATE `issuer_badgeclass` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeclass` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_entity_id_9d80ac6c_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_badgeinstance` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_badgeinstance` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_entity_id_b466e05e_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `issuer_issuer` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `issuer_issuer` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_entity_id_ab6df147_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'local'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `source_url` varchar(254) NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_badgeclass_id_03ebbdc4_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `badgeclass_id` `local_badgeclass_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_badgeclass_id_ec354178_fk_compositi` FOREIGN KEY (`local_badgeclass_id`) REFERENCES `composition_localbadgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_id_04905f6e_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` CHANGE `issuer_id` `local_issuer_id` integer NULL; (params ())
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_local_issuer_id_9eacac7d_fk_compositi` FOREIGN KEY (`local_issuer_id`) REFERENCES `composition_localissuer` (`id`); (params ())
ALTER TABLE `composition_localbadgeinstance` ADD COLUMN `issuer_badgeclass_id` integer NULL; (params [])
ALTER TABLE `composition_localbadgeinstance` ADD CONSTRAINT `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba` FOREIGN KEY (`issuer_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbadgeclass_created_by_id_82eb0bcd_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP FOREIGN KEY `composition_localbad_issuer_id_96decf71_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeclass` DROP COLUMN `issuer_id`; (params ())
ALTER TABLE `composition_localissuer` DROP FOREIGN KEY `composition_localissuer_created_by_id_f30fbba7_fk_users_id`; (params ())
ALTER TABLE `composition_localissuer` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_badgeclass_id_ec354178_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_badgeclass_id`; (params ())
DROP TABLE `composition_localbadgeclass` CASCADE; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_local_issuer_id_9eacac7d_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `local_issuer_id`; (params ())
DROP TABLE `composition_localissuer` CASCADE; (params ())
CREATE TABLE `backpack_backpackcollection` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `name` varchar(128) NOT NULL, `description` varchar(255) NOT NULL, `share_hash` varchar(255) NOT NULL, `slug` varchar(254) NULL, `created_by_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionbadgeinstance` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeinstance_id` integer NOT NULL, `collection_id` integer NOT NULL); (params None)
CREATE TABLE `backpack_backpackbadgeshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `badgeinstance_id` integer NULL); (params None)
CREATE TABLE `backpack_backpackcollectionshare` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `provider` varchar(254) NOT NULL, `collection_id` integer NOT NULL); (params None)
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_created_by_id_a2fe4371_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_badgeinstance_id_2a57e7ce_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcol_collection_id_f0688dcb_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD CONSTRAINT `backpack_backpackbad_badgeinstance_id_5e56649d_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD CONSTRAINT `backpack_backpackcol_collection_id_f176f658_fk_backpack_` FOREIGN KEY (`collection_id`) REFERENCES `backpack_backpackcollection` (`id`); (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:53:57.119954'])
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollection` ADD CONSTRAINT `backpack_backpackcollection_updated_by_id_d52c73c8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD COLUMN `badgeuser_id` integer NULL; (params [])
ALTER TABLE `backpack_backpackcollectionbadgeinstance` ADD CONSTRAINT `backpack_backpackcoll_badgeuser_id_fb515765_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `backpack_backpackbadgeshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackbadgeshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollectionshare` ADD COLUMN `source` varchar(254) DEFAULT %s NOT NULL; (params [u'unknown'])
ALTER TABLE `backpack_backpackcollectionshare` ALTER COLUMN `source` DROP DEFAULT; (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:53:57.828375'])
CREATE INDEX `backpack_backpackcollection_created_at_c482fc1d` ON `backpack_backpackcollection` (`created_at`); (params ())
ALTER TABLE `backpack_backpackcollection` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `oauth2_provider_application` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `client_id` varchar(100) NOT NULL UNIQUE, `redirect_uris` longtext NOT NULL, `client_type` varchar(32) NOT NULL, `authorization_grant_type` varchar(32) NOT NULL, `client_secret` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_accesstoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_grant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `code` varchar(255) NOT NULL, `expires` datetime(6) NOT NULL, `redirect_uri` varchar(255) NOT NULL, `scope` longtext NOT NULL, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `oauth2_provider_refreshtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` varchar(255) NOT NULL, `access_token_id` integer NOT NULL UNIQUE, `application_id` integer NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_application_client_secret_53133678` ON `oauth2_provider_application` (`client_secret`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant` (`code`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken` (`token`); (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `skip_authorization` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `skip_authorization` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_application` DROP FOREIGN KEY `oauth2_provider_application_user_id_79829054_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `user_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_application` ADD CONSTRAINT `oauth2_provider_application_user_id_79829054_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `oauth2_provider_accesstoken_token_8af090f8` ON `oauth2_provider_accesstoken`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_token_8af090f8_uniq` UNIQUE (`token`); (params ())
DROP INDEX `oauth2_provider_grant_code_49ab4ddf` ON `oauth2_provider_grant`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_code_49ab4ddf_uniq` UNIQUE (`code`); (params ())
DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4` ON `oauth2_provider_refreshtoken`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_d090daa4_uniq` UNIQUE (`token`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` integer NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_gran_application_id_81923564_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_accesstoken` DROP FOREIGN KEY `oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr`; (params ())
ALTER TABLE `oauth2_provider_application` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_accesstoken` MODIFY `application_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `application_id` bigint NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_application_id_81923564_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_accesstoken_application_id_b22886e1_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_application_id_2d1c311b_fk` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `oauth2_provider_grant` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_grant` DROP FOREIGN KEY `oauth2_provider_grant_user_id_e8f62af8_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_grant` ADD CONSTRAINT `oauth2_provider_grant_user_id_e8f62af8_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `id` bigint AUTO_INCREMENT NOT NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_user_id_da837fce_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:53:59.386520'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:53:59.504513'])
ALTER TABLE `oauth2_provider_accesstoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:53:59.557966'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_application` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:53:59.611762'])
ALTER TABLE `oauth2_provider_application` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:53:59.659154'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_grant` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:53:59.702015'])
ALTER TABLE `oauth2_provider_grant` ALTER COLUMN `updated` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `created` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:53:59.766172'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `created` DROP DEFAULT; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `updated` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:53:59.808315'])
ALTER TABLE `oauth2_provider_refreshtoken` ALTER COLUMN `updated` DROP DEFAULT; (params ())
CREATE TABLE `mainsite_emailblacklist` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL UNIQUE); (params None)
CREATE TABLE `mainsite_badgrapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `cors` varchar(254) NOT NULL UNIQUE, `email_confirmation_redirect` varchar(200) NOT NULL, `forgot_password_redirect` varchar(200) NOT NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp` (`is_active`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `name` varchar(254) DEFAULT %s NOT NULL; (params [u'Badgr'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `name` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `signup_redirect` varchar(200) DEFAULT %s NOT NULL; (params [u'https://badgr.io/signup'])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `signup_redirect` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_login_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_signup_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_emailblacklist` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `ui_connect_success_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_created_by_id_984371c7_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_created_by_id_984371c7_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `mainsite_badgrapp_is_active_3dd120f9` ON `mainsite_badgrapp`; (params ())
ALTER TABLE `mainsite_badgrapp` DROP FOREIGN KEY `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id`; (params ())
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_updated_by_id_dad2bffc_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `mainsite_applicationinfo` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `icon` varchar(100) NULL, `name` varchar(254) NULL, `application_id` bigint NOT NULL UNIQUE); (params None)
ALTER TABLE `mainsite_applicationinfo` ADD CONSTRAINT `mainsite_application_application_id_4b340aa9_fk_oauth2_pr` FOREIGN KEY (`application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `allowed_scopes` longtext NOT NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `website_url` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `public_pages_redirect` varchar(200) NULL; (params [])
CREATE TABLE `badgeuser_emailaddressvariant` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `email` varchar(75) NOT NULL, `canonical_email_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_emailaddressvariant` ADD CONSTRAINT `badgeuser_emailaddre_canonical_email_id_f40216ad_fk_account_e` FOREIGN KEY (`canonical_email_id`) REFERENCES `account_emailaddress` (`id`); (params ())
ALTER TABLE `users` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `users` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `users` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
UPDATE `users` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `users` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_entity_id_7c2ce66e_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `users` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_group_id_2f3517aa_fk_auth_group_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_group_id_2f3517aa_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
ALTER TABLE `users_groups` DROP FOREIGN KEY `users_groups_badgeuser_id_2fa1cae5_fk_users_id`; (params ())
ALTER TABLE `users_groups` ADD CONSTRAINT `users_groups_badgeuser_id_2fa1cae5_fk_users_id` FOREIGN KEY (`badgeuser_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `users` MODIFY `last_login` datetime(6) NULL; (params [])
ALTER TABLE `badgeuser_emailaddressvariant` MODIFY `email` varchar(254) NOT NULL; (params [])
ALTER TABLE `users` MODIFY `username` varchar(150) NOT NULL; (params [])
ALTER TABLE `users` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `users` ADD CONSTRAINT `users_badgrapp_id_ccdc67a0_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
CREATE TABLE `badgeuser_termsagreement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `terms_version` integer UNSIGNED NOT NULL, `agreed` bool NOT NULL); (params None)
CREATE TABLE `badgeuser_termsversion` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `version` integer UNSIGNED NOT NULL UNIQUE); (params None)
ALTER TABLE `users` ADD COLUMN `marketing_opt_in` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `users` ALTER COLUMN `marketing_opt_in` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD COLUMN `user_id` integer NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_terms_version_947581e5_uniq` UNIQUE (`user_id`, `terms_version`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_created_by_id_15ae278b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD CONSTRAINT `badgeuser_termsversion_updated_by_id_b0d20e86_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_created_by_id_2777f65e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_updated_by_id_68d57a4c_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsagreement` ADD CONSTRAINT `badgeuser_termsagreement_user_id_56d75cec_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ADD COLUMN `short_description` longtext NOT NULL; (params [])
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:54:02.481796'])
CREATE INDEX `badgeuser_termsagreement_created_at_de32c00a` ON `badgeuser_termsagreement` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsagreement` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:54:02.518195'])
CREATE INDEX `badgeuser_termsversion_created_at_ec76c289` ON `badgeuser_termsversion` (`created_at`); (params ())
ALTER TABLE `badgeuser_termsversion` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `badgeuser_userrecipientidentifier` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `format` varchar(3) NOT NULL, `identifier` varchar(255) NOT NULL, `verified` bool NOT NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipienti_user_id_format_identifie_a8f1003d_uniq` UNIQUE (`user_id`, `format`, `identifier`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` ADD CONSTRAINT `badgeuser_userrecipientidentifier_user_id_f0281a30_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` CHANGE `format` `type` varchar(3) NOT NULL; (params ())
ALTER TABLE `badgeuser_userrecipientidentifier` MODIFY `type` varchar(9) NOT NULL; (params [])
CREATE INDEX `composition_collection_owner_id_370578d9` ON `composition_collection` (`owner_id`); (params ())
ALTER TABLE `composition_collection` DROP INDEX `composition_collection_owner_id_slug_72096ce8_uniq`; (params ())
ALTER TABLE `composition_collection` DROP FOREIGN KEY `composition_collection_owner_id_370578d9_fk_users_id`; (params ())
ALTER TABLE `composition_collection` DROP COLUMN `owner_id`; (params ())
CREATE INDEX `composition_collectionpermission_user_id_61259751` ON `composition_collectionpermission` (`user_id`); (params ())
ALTER TABLE `composition_collectionpermission` DROP INDEX `composition_collectionpe_user_id_collection_id_6c493f1e_uniq`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collecti_collection_id_b360b435_fk_compositi`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP FOREIGN KEY `composition_collectionpermission_user_id_61259751_fk_users_id`; (params ())
ALTER TABLE `composition_collectionpermission` DROP COLUMN `user_id`; (params ())
ALTER TABLE `composition_collectionshare` DROP FOREIGN KEY `composition_collecti_collection_id_72ccde0a_fk_compositi`; (params ())
ALTER TABLE `composition_collectionshare` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_created_by_id_b77977ad_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `created_by_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbad_issuer_badgeclass_id_caa6439a_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `issuer_badgeclass_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP FOREIGN KEY `composition_localbadg_recipient_user_id_9c212f45_fk_users_id`; (params ())
ALTER TABLE `composition_localbadgeinstance` DROP COLUMN `recipient_user_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP INDEX `composition_localbadgein_instance_id_issuer_insta_0035e89d_uniq`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_collection_id_fc149482_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `collection_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_instance_id_e3a6fa99_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_c2f2c701_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstancecollection` DROP COLUMN `issuer_instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_instance_id_7a9d3973_fk_compositi`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `instance_id`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP FOREIGN KEY `composition_localbad_issuer_instance_id_d8af3656_fk_issuer_ba`; (params ())
ALTER TABLE `composition_localbadgeinstanceshare` DROP COLUMN `issuer_instance_id`; (params ())
DROP TABLE `composition_collection` CASCADE; (params ())
DROP TABLE `composition_collectionpermission` CASCADE; (params ())
DROP TABLE `composition_collectionshare` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstance` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstancecollection` CASCADE; (params ())
DROP TABLE `composition_localbadgeinstanceshare` CASCADE; (params ())
CREATE TABLE `django_celery_results_taskresult` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `task_id` varchar(255) NOT NULL UNIQUE, `status` varchar(50) NOT NULL, `content_type` varchar(128) NOT NULL, `content_encoding` varchar(64) NOT NULL, `result` longtext NULL, `date_done` datetime(6) NOT NULL, `traceback` longtext NULL, `hidden` bool NOT NULL, `meta` longtext NULL); (params None)
CREATE INDEX `django_celery_results_taskresult_hidden_cd77412f` ON `django_celery_results_taskresult` (`hidden`); (params ())
CREATE TABLE `externaltools_externaltool` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `entity_version` integer UNSIGNED NOT NULL, `entity_id` varchar(254) NOT NULL UNIQUE, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` varchar(254) NULL, `xml_config` longtext NOT NULL, `config_url` varchar(200) NULL, `client_id` varchar(254) NULL, `client_secret` varchar(254) NULL, `created_by_id` integer NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `externaltools_externaltoollaunchpoint` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `launchpoint` varchar(254) NOT NULL, `launch_url` varchar(200) NOT NULL, `label` varchar(254) NOT NULL, `icon_url` varchar(200) NULL, `externaltool_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_created_by_id_85a92209_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltool` ADD CONSTRAINT `externaltools_externaltool_updated_by_id_9308dd52_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` ADD CONSTRAINT `externaltools_extern_externaltool_id_7df04614_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
CREATE TABLE `externaltools_externaltooluseractivation` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `is_active` bool NOT NULL, `created_by_id` integer NULL, `externaltool_id` integer NOT NULL, `updated_by_id` integer NULL, `user_id` integer NOT NULL); (params None)
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_created_by_id_26cd81ef_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_extern_externaltool_id_06b559ab_fk_externalt` FOREIGN KEY (`externaltool_id`) REFERENCES `externaltools_externaltool` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_updated_by_id_e9af1786_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ADD CONSTRAINT `externaltools_externa_user_id_15eb67d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `externaltools_externaltooluseractivation_is_active_c4a44480` ON `externaltools_externaltooluseractivation` (`is_active`); (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` ADD COLUMN `requires_user_activation` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `requires_user_activation` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltool` MODIFY `xml_config` longtext NULL; (params [])
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:54:04.492254'])
CREATE INDEX `externaltools_externaltool_created_at_6c00cb97` ON `externaltools_externaltool` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltool` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:54:04.529550'])
CREATE INDEX `externaltools_externaltooluseractivation_created_at_127d8b17` ON `externaltools_externaltooluseractivation` (`created_at`); (params ())
ALTER TABLE `externaltools_externaltooluseractivation` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `externaltools_externaltoollaunchpoint` MODIFY `launch_url` varchar(1024) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstanceevidence` ADD COLUMN `original_json` longtext NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `issued_on` datetime(6) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `issued_on` datetime(6) NOT NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 23:54:04.860772'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` SET DEFAULT %s; (params [u'2019-07-11 23:54:04.909132'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `issued_on` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `recipient_type` varchar(255) DEFAULT %s NOT NULL; (params [u'email'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `recipient_type` DROP DEFAULT; (params ())
CREATE TABLE `issuer_badgeclassalignment` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `original_json` longtext NULL, `target_name` longtext NOT NULL, `target_url` varchar(2083) NOT NULL, `target_description` longtext NULL, `target_framework` longtext NULL, `target_code` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassalignment` ADD CONSTRAINT `issuer_badgeclassali_badgeclass_id_5b4369c9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeclasstag` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclasstag` ADD CONSTRAINT `issuer_badgeclasstag_badgeclass_id_6b0b400f_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE INDEX `issuer_badgeclasstag_name_0e94f356` ON `issuer_badgeclasstag` (`name`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:54:05.235233'])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:54:05.346627'])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:54:05.437456'])
ALTER TABLE `issuer_issuer` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD CONSTRAINT `issuer_badgeclass_updated_by_id_3768fe0a_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_updated_by_id_c3cf1592_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_updated_by_id_9842bff8_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `issuer_issuer` ADD COLUMN `badgrapp_id` integer NULL; (params [])
ALTER TABLE `issuer_issuer` ADD CONSTRAINT `issuer_issuer_badgrapp_id_b1674645_fk_mainsite_badgrapp_id` FOREIGN KEY (`badgrapp_id`) REFERENCES `mainsite_badgrapp` (`id`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `hashed` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `hashed` DROP DEFAULT; (params ())
CREATE INDEX `issuer_badgeinstance_recipient_identifier_2c3f0867` ON `issuer_badgeinstance` (`recipient_identifier`); (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `expires_at` datetime(6) NULL; (params [])
CREATE TABLE `issuer_badgeclassextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeclass_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeclassextension` ADD CONSTRAINT `issuer_badgeclassext_badgeclass_id_24af13d9_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
CREATE TABLE `issuer_badgeinstanceextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `badgeinstance_id` integer NOT NULL); (params None)
CREATE TABLE `issuer_issuerextension` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(254) NOT NULL, `original_json` longtext NULL, `issuer_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstanceextension` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_fe985303_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_issuerextension` ADD CONSTRAINT `issuer_issuerextension_issuer_id_a9d4633e_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE TABLE `issuer_badgeinstancebakedimage` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `obi_version` varchar(254) NOT NULL, `image` varchar(100) NOT NULL, `badgeinstance_id` integer NOT NULL); (params None)
ALTER TABLE `issuer_badgeinstancebakedimage` ADD CONSTRAINT `issuer_badgeinstance_badgeinstance_id_5eb8b7c2_fk_issuer_ba` FOREIGN KEY (`badgeinstance_id`) REFERENCES `issuer_badgeinstance` (`id`); (params ())
ALTER TABLE `issuer_badgeinstanceevidence` MODIFY `evidence_url` varchar(2083) NULL; (params [])
ALTER TABLE `issuer_badgeinstance` MODIFY `recipient_identifier` varchar(768) NOT NULL; (params [])
CREATE INDEX `issuer_badgeinstance_recipient_identifier_badg_c259765f_idx` ON `issuer_badgeinstance` (`recipient_identifier`, `badgeclass_id`, `revoked`); (params ())
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_amount` integer NULL; (params [])
ALTER TABLE `issuer_badgeclass` ADD COLUMN `expires_duration` varchar(254) NULL; (params [])
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:54:06.451112'])
CREATE INDEX `issuer_badgeclass_created_at_a3948a29` ON `issuer_badgeclass` (`created_at`); (params ())
ALTER TABLE `issuer_badgeclass` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:54:06.489631'])
CREATE INDEX `issuer_badgeinstance_created_at_c76642cf` ON `issuer_badgeinstance` (`created_at`); (params ())
ALTER TABLE `issuer_badgeinstance` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:54:06.526446'])
CREATE INDEX `issuer_issuer_created_at_b405217d` ON `issuer_issuer` (`created_at`); (params ())
ALTER TABLE `issuer_issuer` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `issuer_badgeinstance` ADD COLUMN `user_id` integer NULL; (params [])
ALTER TABLE `issuer_badgeinstance` ADD CONSTRAINT `issuer_badgeinstance_user_id_0369d8d6_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD COLUMN `source_refresh_token_id` bigint NULL UNIQUE; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD COLUMN `revoked` datetime(6) NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` DROP INDEX `oauth2_provider_refreshtoken_token_d090daa4_uniq`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` DROP FOREIGN KEY `oauth2_provider_refreshtoken_access_token_id_775e84e8_fk`; (params ())
ALTER TABLE `oauth2_provider_refreshtoken` MODIFY `access_token_id` bigint NULL; (params [])
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr` FOREIGN KEY (`access_token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `oauth2_provider_refreshtoken` ADD CONSTRAINT `oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq` UNIQUE (`token`, `revoked`); (params ())
ALTER TABLE `oauth2_provider_accesstoken` ADD CONSTRAINT `oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr` FOREIGN KEY (`source_refresh_token_id`) REFERENCES `oauth2_provider_refreshtoken` (`id`); (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_authorization_redirect` varchar(200) NULL; (params [])
ALTER TABLE `mainsite_applicationinfo` ADD COLUMN `trust_email_verification` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_applicationinfo` ALTER COLUMN `trust_email_verification` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `use_auth_code_exchange` bool DEFAULT %s NOT NULL; (params [False])
ALTER TABLE `mainsite_badgrapp` ALTER COLUMN `use_auth_code_exchange` DROP DEFAULT; (params ())
ALTER TABLE `mainsite_badgrapp` ADD COLUMN `oauth_application_id` bigint NULL; (params [])
ALTER TABLE `mainsite_badgrapp` ADD CONSTRAINT `mainsite_badgrapp_oauth_application_id_e240e350_fk_oauth2_pr` FOREIGN KEY (`oauth_application_id`) REFERENCES `oauth2_provider_application` (`id`); (params ())
CREATE TABLE `mainsite_accesstokenscope` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `scope` varchar(256) NOT NULL, `token_id` bigint NOT NULL); (params None)
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstoken_token_id_004f9c3e_fk_oauth2_pr` FOREIGN KEY (`token_id`) REFERENCES `oauth2_provider_accesstoken` (`id`); (params ())
ALTER TABLE `mainsite_accesstokenscope` ADD CONSTRAINT `mainsite_accesstokenscope_token_id_scope_03e6b75b_uniq` UNIQUE (`token_id`, `scope`); (params ())
CREATE TABLE `pathway_pathway` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `pathway_pathwayelement` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NOT NULL, `alignment_url` varchar(200) NULL, `completion_requirements` longtext NULL, `completion_badgeclass_id` integer NULL, `created_by_id` integer NULL, `parent_element_id` integer NULL, `pathway_id` integer NOT NULL, `updated_by_id` integer NULL); (params None)
CREATE TABLE `pathway_pathwayelementbadge` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `badgeclass_id` integer NOT NULL, `element_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `pathway_pathway` ADD COLUMN `root_element_id` integer NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_issuer_id_ca54168b_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_parent_element_id_25ab52f8_fk_pathway_p` FOREIGN KEY (`parent_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_pathway_id_060c97be_fk_pathway_pathway_id` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_badgeclass_id_7bad540d_fk_issuer_ba` FOREIGN KEY (`badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_element_id_3c4ed4d8_fk_pathway_p` FOREIGN KEY (`element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathwayelementbadge` ADD CONSTRAINT `pathway_pathwayeleme_pathway_id_fe9cf5c1_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD CONSTRAINT `pathway_pathway_root_element_id_896ebbce_fk_pathway_p` FOREIGN KEY (`root_element_id`) REFERENCES `pathway_pathwayelement` (`id`); (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelement` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathwayelement` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `pathway_pathwayelementbadge` ADD COLUMN `ordering` integer DEFAULT %s NOT NULL; (params [99])
ALTER TABLE `pathway_pathwayelementbadge` ALTER COLUMN `ordering` DROP DEFAULT; (params ())
ALTER TABLE `pathway_pathway` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `pathway_pathway` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
CREATE INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway` (`is_active`); (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayeleme_completion_badgeclas_68491f9d_fk_issuer_ba` FOREIGN KEY (`completion_badgeclass_id`) REFERENCES `issuer_badgeclass` (`id`); (params ())
DROP INDEX `pathway_pathway_is_active_515d9904` ON `pathway_pathway`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_created_by_id_edcfd66e_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `pathway_pathwayelement_is_active_ce07a430` ON `pathway_pathwayelement`; (params ())
ALTER TABLE `pathway_pathwayelement` DROP FOREIGN KEY `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id`; (params ())
ALTER TABLE `pathway_pathwayelement` ADD CONSTRAINT `pathway_pathwayelement_updated_by_id_2ec9c8b9_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
CREATE TABLE `recipient_recipientgroup` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `is_active` bool NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `name` varchar(254) NOT NULL, `description` longtext NULL, `created_by_id` integer NULL, `issuer_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientgroupmembership` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `membership_name` varchar(254) NOT NULL, `recipient_group_id` integer NOT NULL); (params None)
CREATE TABLE `recipient_recipientprofile` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipient_identifier` varchar(1024) NOT NULL, `public` bool NOT NULL, `display_name` varchar(254) NOT NULL, `badge_user_id` integer NULL); (params None)
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `recipient_profile_id` integer NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_issuer_id_7f3cfcdd_fk_issuer_issuer_id` FOREIGN KEY (`issuer_id`) REFERENCES `issuer_issuer` (`id`); (params ())
CREATE INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup` (`is_active`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_group_id_74cc491a_fk_recipient` FOREIGN KEY (`recipient_group_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_badge_user_id_e82bd738_fk_users_id` FOREIGN KEY (`badge_user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientg_recipient_profile_id_bb1b50c3_fk_recipient` FOREIGN KEY (`recipient_profile_id`) REFERENCES `recipient_recipientprofile` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `slug` varchar(254) NOT NULL UNIQUE; (params [])
CREATE TABLE `recipient_recipientgroup_pathways` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `recipientgroup_id` integer NOT NULL, `pathway_id` integer NOT NULL); (params None)
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_recipientgroup_id_bfbeeb43_fk_recipient` FOREIGN KEY (`recipientgroup_id`) REFERENCES `recipient_recipientgroup` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientg_pathway_id_ea5bf45f_fk_pathway_p` FOREIGN KEY (`pathway_id`) REFERENCES `pathway_pathway` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup_pathways` ADD CONSTRAINT `recipient_recipientgroup_recipientgroup_id_pathwa_999aa21d_uniq` UNIQUE (`recipientgroup_id`, `pathway_id`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:34.658388'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `created_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `is_active` bool DEFAULT %s NOT NULL; (params [True])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `is_active` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2016-05-11 17:24:39.418009'])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
CREATE INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile` (`is_active`); (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientgroupmembership` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_id` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD COLUMN `entity_version` integer UNSIGNED DEFAULT %s NOT NULL; (params [1])
ALTER TABLE `recipient_recipientprofile` ALTER COLUMN `entity_version` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroup` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `slug` varchar(254) NULL; (params [])
ALTER TABLE `recipient_recipientprofile` DROP INDEX `slug`; (params ())
ALTER TABLE `recipient_recipientprofile` MODIFY `slug` varchar(254) NULL; (params [])
UPDATE `recipient_recipientgroup` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroup` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_entity_id_cdffaec5_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientgroupmembership` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientgroupmembership` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientgroupmembership` ADD CONSTRAINT `recipient_recipientgroupmembership_entity_id_6a565410_uniq` UNIQUE (`entity_id`); (params ())
UPDATE `recipient_recipientprofile` SET `entity_id` = %s WHERE `entity_id` IS NULL; (params [None])
ALTER TABLE `recipient_recipientprofile` MODIFY `entity_id` varchar(254) NOT NULL; (params [])
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_entity_id_44a2b728_uniq` UNIQUE (`entity_id`); (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_at`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP COLUMN `updated_by_id`; (params ())
ALTER TABLE `recipient_recipientgroup` DROP FOREIGN KEY `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_created_by_id_a08ec00b_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientgroup_is_active_19845164` ON `recipient_recipientgroup`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_created_by_id_d592d4c2_fk_users_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`); (params ())
DROP INDEX `recipient_recipientprofile_is_active_02ff95f8` ON `recipient_recipientprofile`; (params ())
ALTER TABLE `recipient_recipientprofile` DROP FOREIGN KEY `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id`; (params ())
ALTER TABLE `recipient_recipientprofile` ADD CONSTRAINT `recipient_recipientprofile_updated_by_id_b083f232_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_at` datetime(6) DEFAULT %s NOT NULL; (params [u'2019-07-11 23:54:11.679499'])
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `updated_at` DROP DEFAULT; (params ())
ALTER TABLE `recipient_recipientgroup` ADD COLUMN `updated_by_id` integer NULL; (params [])
ALTER TABLE `recipient_recipientgroup` ADD CONSTRAINT `recipient_recipientgroup_updated_by_id_2a951505_fk_users_id` FOREIGN KEY (`updated_by_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` SET DEFAULT %s; (params [u'2019-07-11 23:54:11.822713'])
CREATE INDEX `recipient_recipientgroup_created_at_6b5e7f38` ON `recipient_recipientgroup` (`created_at`); (params ())
ALTER TABLE `recipient_recipientgroup` ALTER COLUMN `created_at` DROP DEFAULT; (params ())
CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
CREATE TABLE `django_site` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `domain` varchar(100) NOT NULL, `name` varchar(50) NOT NULL); (params None)
ALTER TABLE `django_site` ADD CONSTRAINT `django_site_domain_a2e37b91_uniq` UNIQUE (`domain`); (params ())
CREATE TABLE `socialaccount_socialaccount` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `uid` varchar(191) NOT NULL, `last_login` datetime(6) NOT NULL, `date_joined` datetime(6) NOT NULL, `extra_data` longtext NOT NULL, `user_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `provider` varchar(30) NOT NULL, `name` varchar(40) NOT NULL, `client_id` varchar(100) NOT NULL, `secret` varchar(100) NOT NULL, `key` varchar(100) NOT NULL); (params None)
CREATE TABLE `socialaccount_socialapp_sites` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `socialapp_id` integer NOT NULL, `site_id` integer NOT NULL); (params None)
CREATE TABLE `socialaccount_socialtoken` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `token` longtext NOT NULL, `token_secret` longtext NOT NULL, `expires_at` datetime(6) NULL, `account_id` integer NOT NULL, `app_id` integer NOT NULL); (params None)
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq` UNIQUE (`app_id`, `account_id`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_provider_uid_fc810c6e_uniq` UNIQUE (`provider`, `uid`); (params ())
ALTER TABLE `socialaccount_socialaccount` ADD CONSTRAINT `socialaccount_socialaccount_user_id_8146e70c_fk_users_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc` FOREIGN KEY (`socialapp_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_site_id_2579dee5_fk_django_site_id` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp_sites` ADD CONSTRAINT `socialaccount_socialapp_sites_socialapp_id_site_id_71a9a768_uniq` UNIQUE (`socialapp_id`, `site_id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_account_id_951f210e_fk_socialacc` FOREIGN KEY (`account_id`) REFERENCES `socialaccount_socialaccount` (`id`); (params ())
ALTER TABLE `socialaccount_socialtoken` ADD CONSTRAINT `socialaccount_social_app_id_636a42d7_fk_socialacc` FOREIGN KEY (`app_id`) REFERENCES `socialaccount_socialapp` (`id`); (params ())
ALTER TABLE `socialaccount_socialapp` MODIFY `client_id` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `key` varchar(191) NOT NULL; (params [])
ALTER TABLE `socialaccount_socialapp` MODIFY `secret` varchar(191) NOT NULL; (params [])
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/9abifJUGQX6ahAHeWRRRyw', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563494055/591a9d460114a5e9cdc28f4dab30d5e5ee399ae8?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/qewa_V_yT5aDTgdy66fZvw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/9abifJUGQX6ahAHeWRRRyw?action=download', u'site_url': u'', u'badge_id': u'9abifJUGQX6ahAHeWRRRyw', u'image_url': u'http://localhost:8000/public/assertions/9abifJUGQX6ahAHeWRRRyw/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/9abifJUGQX6ahAHeWRRRyw\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563494055/591a9d460114a5e9cdc28f4dab30d5e5ee399ae8?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/qewa_V_yT5aDTgdy66fZvw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/9abifJUGQX6ahAHeWRRRyw?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'9abifJUGQX6ahAHeWRRRyw\', u\'image_url\': u\'http://localhost:8000/public/assertions/9abifJUGQX6ahAHeWRRRyw/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b25210>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x117b253d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b255d0>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x117b25790>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b25990>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x117b25b50>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x1121c5590>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x117acc750>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/9abifJUGQX6ahAHeWRRRyw', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563494055/591a9d460114a5e9cdc28f4dab30d5e5ee399ae8?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/qewa_V_yT5aDTgdy66fZvw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/9abifJUGQX6ahAHeWRRRyw?action=download', u'site_url': u'', u'badge_id': u'9abifJUGQX6ahAHeWRRRyw', u'image_url': u'http://localhost:8000/public/assertions/9abifJUGQX6ahAHeWRRRyw/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/zfj-Hhh5Sr-1_jSjAx1ovg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563494060/64a9464bec47e78c56b772ba0c739455a860294c?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/qewa_V_yT5aDTgdy66fZvw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/zfj-Hhh5Sr-1_jSjAx1ovg?action=download', u'site_url': u'', u'badge_id': u'zfj-Hhh5Sr-1_jSjAx1ovg', u'image_url': u'http://localhost:8000/public/assertions/zfj-Hhh5Sr-1_jSjAx1ovg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/zfj-Hhh5Sr-1_jSjAx1ovg\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563494060/64a9464bec47e78c56b772ba0c739455a860294c?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/qewa_V_yT5aDTgdy66fZvw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/zfj-Hhh5Sr-1_jSjAx1ovg?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'zfj-Hhh5Sr-1_jSjAx1ovg\', u\'image_url\': u\'http://localhost:8000/public/assertions/zfj-Hhh5Sr-1_jSjAx1ovg/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117accd90>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x117b5ae90>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b5f0d0>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x117b5f290>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b5f490>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x117b5f650>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b5f850>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x117b5fa10>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/zfj-Hhh5Sr-1_jSjAx1ovg', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563494060/64a9464bec47e78c56b772ba0c739455a860294c?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/qewa_V_yT5aDTgdy66fZvw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/zfj-Hhh5Sr-1_jSjAx1ovg?action=download', u'site_url': u'', u'badge_id': u'zfj-Hhh5Sr-1_jSjAx1ovg', u'image_url': u'http://localhost:8000/public/assertions/zfj-Hhh5Sr-1_jSjAx1ovg/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/2bMQDEmXSji9p-kYxWKajw', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/b3RoZXJyZWNpcGllbnQxQGV4YW1wbGUuY29t/1563494060/5131ba9ba0feea87f76aa091496cb2722e2a49cb?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/qewa_V_yT5aDTgdy66fZvw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/2bMQDEmXSji9p-kYxWKajw?action=download', u'site_url': u'', u'badge_id': u'2bMQDEmXSji9p-kYxWKajw', u'image_url': u'http://localhost:8000/public/assertions/2bMQDEmXSji9p-kYxWKajw/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/2bMQDEmXSji9p-kYxWKajw\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/b3RoZXJyZWNpcGllbnQxQGV4YW1wbGUuY29t/1563494060/5131ba9ba0feea87f76aa091496cb2722e2a49cb?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/qewa_V_yT5aDTgdy66fZvw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/2bMQDEmXSji9p-kYxWKajw?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'2bMQDEmXSji9p-kYxWKajw\', u\'image_url\': u\'http://localhost:8000/public/assertions/2bMQDEmXSji9p-kYxWKajw/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b1c3d0>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x117b1c290>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b1cd50>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x117b1cbd0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b1c6d0>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x117b38510>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117acc550>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x117acc990>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/2bMQDEmXSji9p-kYxWKajw', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/b3RoZXJyZWNpcGllbnQxQGV4YW1wbGUuY29t/1563494060/5131ba9ba0feea87f76aa091496cb2722e2a49cb?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/qewa_V_yT5aDTgdy66fZvw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/2bMQDEmXSji9p-kYxWKajw?action=download', u'site_url': u'', u'badge_id': u'2bMQDEmXSji9p-kYxWKajw', u'image_url': u'http://localhost:8000/public/assertions/2bMQDEmXSji9p-kYxWKajw/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/JuHj4X4uSEKJ9_tQG38zTA', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563494063/a892366e41b492d572a83de86414941dd0aaca67?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/bCPqylSYTiKYS7CYbhAfhg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/JuHj4X4uSEKJ9_tQG38zTA?action=download', u'site_url': u'', u'badge_id': u'JuHj4X4uSEKJ9_tQG38zTA', u'image_url': u'http://localhost:8000/public/assertions/JuHj4X4uSEKJ9_tQG38zTA/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/JuHj4X4uSEKJ9_tQG38zTA\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563494063/a892366e41b492d572a83de86414941dd0aaca67?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/bCPqylSYTiKYS7CYbhAfhg\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/JuHj4X4uSEKJ9_tQG38zTA?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'JuHj4X4uSEKJ9_tQG38zTA\', u\'image_url\': u\'http://localhost:8000/public/assertions/JuHj4X4uSEKJ9_tQG38zTA/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b5ea50>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x117b5ec10>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b5ee10>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x117b5efd0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b82210>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x117b823d0>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b825d0>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x117b82790>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/JuHj4X4uSEKJ9_tQG38zTA', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563494063/a892366e41b492d572a83de86414941dd0aaca67?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/bCPqylSYTiKYS7CYbhAfhg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/JuHj4X4uSEKJ9_tQG38zTA?action=download', u'site_url': u'', u'badge_id': u'JuHj4X4uSEKJ9_tQG38zTA', u'image_url': u'http://localhost:8000/public/assertions/JuHj4X4uSEKJ9_tQG38zTA/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/Q6ha5Xv0Sa6-zIFGprtPBQ', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563494064/672e2d3dd9c781ac57a2c54e8c5650476de4a320?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/bCPqylSYTiKYS7CYbhAfhg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/Q6ha5Xv0Sa6-zIFGprtPBQ?action=download', u'site_url': u'', u'badge_id': u'Q6ha5Xv0Sa6-zIFGprtPBQ', u'image_url': u'http://localhost:8000/public/assertions/Q6ha5Xv0Sa6-zIFGprtPBQ/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/Q6ha5Xv0Sa6-zIFGprtPBQ\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563494064/672e2d3dd9c781ac57a2c54e8c5650476de4a320?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Test Issuer\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/bCPqylSYTiKYS7CYbhAfhg\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/Q6ha5Xv0Sa6-zIFGprtPBQ?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'Q6ha5Xv0Sa6-zIFGprtPBQ\', u\'image_url\': u\'http://localhost:8000/public/assertions/Q6ha5Xv0Sa6-zIFGprtPBQ/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117b31510>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x113a71910>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x113a71ed0>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x117b38790>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117acc4d0>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x117acc050>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x117accad0>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x117b522d0>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/Q6ha5Xv0Sa6-zIFGprtPBQ', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/c3RhZmZAZXhhbXBsZS5jb20=/1563494064/672e2d3dd9c781ac57a2c54e8c5650476de4a320?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Test Issuer', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/bCPqylSYTiKYS7CYbhAfhg', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/Q6ha5Xv0Sa6-zIFGprtPBQ?action=download', u'site_url': u'', u'badge_id': u'Q6ha5Xv0Sa6-zIFGprtPBQ', u'image_url': u'http://localhost:8000/public/assertions/Q6ha5Xv0Sa6-zIFGprtPBQ/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
Not Found: /v2/assertions/changed
Exception while resolving variable 'email_title' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [email_title] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/jxGCp8WLQE6ycpSqYq6sXQ', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563494067/b6441ffc17733772590bdcc3baf82cf718e91d30?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/a5P-NOHYQd-5kC9QCe1zxw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/jxGCp8WLQE6ycpSqYq6sXQ?action=download', u'site_url': u'', u'badge_id': u'jxGCp8WLQE6ycpSqYq6sXQ', u'image_url': u'http://localhost:8000/public/assertions/jxGCp8WLQE6ycpSqYq6sXQ/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
Exception while resolving variable 'issued_on' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [issued_on] in u'[{\'False\': False, \'None\': None, \'True\': True}, {u\'badge_instance_url\': u\'http://localhost:8000/public/assertions/jxGCp8WLQE6ycpSqYq6sXQ\', u\'site_name\': u\'test cors\', \'HTTP_ORIGIN\': u\'http://localhost:8000\', u\'badgr_app\': <BadgrApp: localhost:8000>, \'OPERATOR_NAME\': None, \'TERMS_OF_SERVICE_URL\': None, \'unsubscribe_url\': u\'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563494067/b6441ffc17733772590bdcc3baf82cf718e91d30?a=1\', u\'help_email\': \'notto@concentricsky.com\', u\'issuer_email\': u\'staff@example.com\', \'PRIVACY_POLICY_URL\': None, \'STATIC_URL\': \'http://localhost:7000/static/\', u\'issuer_name\': u\'Giver\', \'OPERATOR_STREET_ADDRESS\': None, u\'issuer_url\': u\'http://example.com\', \'OPERATOR_URL\': None, u\'issuer_detail\': u\'http://localhost:8000/public/issuers/a5P-NOHYQd-5kC9QCe1zxw\', u\'badge_description\': u\'test case badgeclass\', \'GDPR_INFO_URL\': None, u\'download_url\': u\'http://localhost:8000/public/assertions/jxGCp8WLQE6ycpSqYq6sXQ?action=download\', u\'site_url\': u\'\', u\'badge_id\': u\'jxGCp8WLQE6ycpSqYq6sXQ\', u\'image_url\': u\'http://localhost:8000/public/assertions/jxGCp8WLQE6ycpSqYq6sXQ/image\', u\'badge_name\': u\'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>\', u\'issuer_image_url\': None}, {\'block\': <Block Node: main. Contents: [<TextNode: u\'\\n<!--[if mso | IE]>\\n     \'>, <Variable Node: badge_instance_url>, <TextNode: u\'" style="\\n            tex\'>, <Variable Node: image_url>, <TextNode: u\'" style="border:0;display\'>, <Variable Node: badge_name>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: badge_description>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <IfNode>, <TextNode: u\'\\n        </td>\\n      </tr\'>, <Variable Node: issuer_detail>, <TextNode: u\'" class="linkstyle" style\'>, <Variable Node: issuer_name>, <TextNode: u\'</a>\\n  </div>\\n\\n          \'>, <IfNode>, <TextNode: u\'\\n  </div>\\n\\n          </td\'>, <Variable Node: site_url>, <TextNode: u\'" style="background:#3F44\'>, <Block Node: call_to_action_label. Contents: [<TextNode: u\'\\n            \'>]>, <TextNode: u\'\\n        </a>\\n      </td>\'>, <Variable Node: download_url>, <TextNode: u\'" style="background:#ffff\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x113a7f550>, <TextNode: u\'?provider=facebook&source\'>, <django.templatetags.static.StaticNode object at 0x113a7f150>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x113a7f890>, <TextNode: u\'?provider=linkedin&source\'>, <django.templatetags.static.StaticNode object at 0x113a4ec90>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x113a4ee90>, <TextNode: u\'?provider=pinterest&sourc\'>, <django.templatetags.static.StaticNode object at 0x113a4ef90>, <TextNode: u\'" align="left" width="32p\'>, <Variable Node: HTTP_ORIGIN>, <django.template.defaulttags.URLNode object at 0x11593d550>, <TextNode: u\'?provider=twitter&source=\'>, <django.templatetags.static.StaticNode object at 0x11593d710>, <TextNode: u\'" align="left" width="32p\'>]>}]'
Exception while resolving variable 'OPERATOR_ADDRESS' in template 'issuer/email/notify_account_holder_message.html'.
Traceback (most recent call last):
  File "/Users/nnichols/code/csky/badgr-server/.env/lib/python2.7/site-packages/django/template/base.py", line 903, in _resolve_lookup
    (bit, current))  # missing attribute
VariableDoesNotExist: Failed lookup for key [OPERATOR_ADDRESS] in u"[{'False': False, 'None': None, 'True': True}, {u'badge_instance_url': u'http://localhost:8000/public/assertions/jxGCp8WLQE6ycpSqYq6sXQ', u'site_name': u'test cors', 'HTTP_ORIGIN': u'http://localhost:8000', u'badgr_app': <BadgrApp: localhost:8000>, 'OPERATOR_NAME': None, 'TERMS_OF_SERVICE_URL': None, 'unsubscribe_url': u'http://localhost:8000/unsubscribe/cmVjaXBpZW50QGV4YW1wbGUuY29t/1563494067/b6441ffc17733772590bdcc3baf82cf718e91d30?a=1', u'help_email': 'notto@concentricsky.com', u'issuer_email': u'staff@example.com', 'PRIVACY_POLICY_URL': None, 'STATIC_URL': 'http://localhost:7000/static/', u'issuer_name': u'Giver', 'OPERATOR_STREET_ADDRESS': None, u'issuer_url': u'http://example.com', 'OPERATOR_URL': None, u'issuer_detail': u'http://localhost:8000/public/issuers/a5P-NOHYQd-5kC9QCe1zxw', u'badge_description': u'test case badgeclass', 'GDPR_INFO_URL': None, u'download_url': u'http://localhost:8000/public/assertions/jxGCp8WLQE6ycpSqYq6sXQ?action=download', u'site_url': u'', u'badge_id': u'jxGCp8WLQE6ycpSqYq6sXQ', u'image_url': u'http://localhost:8000/public/assertions/jxGCp8WLQE6ycpSqYq6sXQ/image', u'badge_name': u'Test Badgeclass #<built-in method random of Random object at 0x7f962b847820>', u'issuer_image_url': None}]"
